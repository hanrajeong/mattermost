"use strict";(self.webpackChunkmattermost_webapp=self.webpackChunkmattermost_webapp||[]).push([[9163],{61544:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(23453),i=n(7380),r=(n(17046),n(4290),n(71633)),s=n.n(r),l=n(97023),o=n.n(l),c=n(14778),u=n(78451),p=n(19513);function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends o().PureComponent{constructor(e){super(e),d(this,"handleClick",((e,t)=>{var n;t.preventDefault(),this.props.updateTab(e.name),null===(n=t.target.closest(".settings-modal"))||void 0===n||n.classList.add("display--content")})),d(this,"handleKeyUp",((e,t)=>{var n;if(!(0,p.e)(t,u.Ay.KeyCodes.UP)&&!(0,p.e)(t,u.Ay.KeyCodes.DOWN))return;t.preventDefault();const a=this.getVisibleTabs();if(0===a.length)return;const i=a.findIndex((t=>t.name===e.name));if(-1===i)return;let r;r=(0,p.e)(t,u.Ay.KeyCodes.UP)?i>0?i-1:a.length-1:i<a.length-1?i+1:0;const s=a[r];this.props.updateTab(s.name);const l=null===(n=this.buttonRefs.get(s.name))||void 0===n?void 0:n.current;l&&l.focus()})),this.buttonRefs=new Map,this.initializeButtonRefs(e.tabs,e.pluginTabs)}initializeButtonRefs(e,t){this.buttonRefs.clear(),e.forEach((e=>{this.buttonRefs.set(e.name,o().createRef())})),null!=t&&t.length&&t.forEach((e=>{this.buttonRefs.set(e.name,o().createRef())}))}componentDidUpdate(e){e.tabs===this.props.tabs&&e.pluginTabs===this.props.pluginTabs||this.initializeButtonRefs(this.props.tabs,this.props.pluginTabs)}getVisibleTabs(){var e;return[...this.props.tabs.filter((e=>!1!==e.display)),...(null===(e=this.props.pluginTabs)||void 0===e?void 0:e.filter((e=>!1!==e.display)))||[]]}renderTab(e){const t="".concat(e.name,"_li"),n=this.props.activeTab===e.name;let a;return a="string"==typeof e.icon?o().createElement("i",{className:e.icon,title:e.iconTitle}):o().createElement("img",{src:e.icon.url,alt:e.iconTitle,className:"icon"}),o().createElement(o().Fragment,{key:t},e.newGroup&&o().createElement("hr",null),o().createElement("button",{"data-testid":"".concat(e.name,"-tab-button"),ref:this.buttonRefs.get(e.name),id:"".concat(e.name,"Button"),className:s()("cursor--pointer style--none nav-pills__tab",{active:n}),onClick:this.handleClick.bind(null,e),onKeyUp:this.handleKeyUp.bind(null,e),"aria-label":e.uiName.toLowerCase(),role:"tab","aria-selected":n,tabIndex:n||this.props.isMobileView?0:-1,"aria-controls":"".concat(e.name,"Settings")},a,e.uiName))}render(){var e;const t=this.props.tabs.filter((e=>!1!==e.display)).map((e=>this.renderTab(e)));let n;if(null!==(e=this.props.pluginTabs)&&void 0!==e&&e.length){const e=this.props.pluginTabs.filter((e=>!1!==e.display));e.length&&(n=o().createElement(o().Fragment,null,o().createElement("hr",null),o().createElement("div",{role:"group","aria-labelledby":"userSettingsModal.pluginPreferences.header"},o().createElement("div",{key:"plugin preferences heading",role:"heading",className:"header","aria-level":3,id:"userSettingsModal_pluginPreferences_header"},o().createElement(c.FormattedMessage,{id:"userSettingsModal.pluginPreferences.header",defaultMessage:"PLUGIN PREFERENCES"})),e.map((e=>this.renderTab(e))))))}return o().createElement("div",{id:"tabList",className:"nav nav-pills nav-stacked",role:"tablist","aria-orientation":"vertical"},o().createElement("div",{role:"group"},t),n)}}const h=(0,a.connect)((function(e){return{isMobileView:(0,i.w3)(e)}}))(b)}}]);
//# sourceMappingURL=9163.f4ca5e3fa224864982d7.js.map