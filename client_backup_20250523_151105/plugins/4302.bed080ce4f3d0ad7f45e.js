"use strict";(self.webpackChunkmattermost_webapp=self.webpackChunkmattermost_webapp||[]).push([[4302],{4302:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var n=a(23453),o=a(7430),i=a(75270),s=a(71633),r=a.n(s),l=a(97023),m=a.n(l),d=a(83083),p=a(30135),c=a(5908),u=a(45955),E=a(26614),g=a(68346),A=a(14776),M=a(2386),T=a(78451),I=a(52231),f=a(62688),h=a.n(f),_=(a(17046),a(4290),a(14778)),b=a(40057),v=a(91767),x=a(59671),L=a(38724),w=a(69669),S=a(49888),N=a(31892),R=a(72208),k=a(26808),G=a(8283),P=a(87364),C=a(8610),y=a(59529);function O(e){const{formatMessage:t}=(0,_.useIntl)();return m().createElement("span",e,m().createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 164 164",style:B,role:"img","aria-label":t({id:"navbar_dropdown.leave.icon",defaultMessage:"Leave Team Icon"})},m().createElement("path",{d:"M26.023,164L26.023,7.035L26.022,0.32L137.658,0.32L137.658,164L124.228,164L124.228, 13.749L39.452,13.749L39.452,164L26.023, 164ZM118.876,164L118.876,18.619L58.137,32.918L58.137,149.701L118.876,164Z"})))}const B={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421};var D=a(17983),F=a(63155);function U(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Q extends m().PureComponent{constructor(){super(...arguments),U(this,"onRecentMentionItemClick",(e=>{e.preventDefault(),this.props.isMentionSearch?this.props.actions.closeRightHandSide():(this.props.actions.closeRhsMenu(),this.props.actions.showMentions())})),U(this,"onShowFlaggedPostItemClick",(e=>{e.preventDefault(),this.props.actions.showFlaggedPosts(),this.props.actions.closeRhsMenu()})),U(this,"onLogoutItemClick",(()=>{(0,v.BN)()}))}render(){const{formatMessage:e}=this.props.intl,t=(0,F.zz)(this.props.appDownloadLink||""),a=this.props.isStarterFree&&!this.props.isFreeTrial&&this.props.usageDeltaTeams>=0,n=this.props.pluginMenuItems.map((e=>m().createElement(D.A.ItemAction,{id:e.id+"_pluginmenuitem",key:e.id+"_pluginmenuitem",onClick:()=>{e.action&&e.action()},text:e.text,icon:e.mobileIcon})));return m().createElement(D.A,{ariaLabel:e({id:"navbar_dropdown.menuAriaLabel",defaultMessage:"main menu"})},m().createElement(D.A.Group,null,m().createElement(R.A,{permissions:[b.xB.SYSCONSOLE_WRITE_BILLING]},m().createElement(D.A.CloudTrial,{id:"menuCloudTrial"}))),m().createElement(D.A.Group,null,m().createElement(R.A,{permissions:[b.xB.SYSCONSOLE_WRITE_ABOUT_EDITION_AND_LICENSE]},m().createElement(D.A.StartTrial,{id:"startTrial"}))),m().createElement(D.A.Group,null,m().createElement(D.A.ItemAction,{id:"recentMentions",onClick:this.onRecentMentionItemClick,icon:m().createElement("i",{className:"mentions"},"@"),text:e({id:"sidebar_right_menu.recentMentions",defaultMessage:"Recent Mentions"})}),m().createElement(D.A.ItemAction,{id:"flaggedPosts",onClick:this.onShowFlaggedPostItemClick,icon:m().createElement("i",{className:"fa fa-bookmark"}),text:e({id:"sidebar_right_menu.flagged",defaultMessage:"Saved messages"})})),m().createElement(D.A.Group,null,m().createElement(D.A.ItemToggleModalRedux,{id:"profileSettings",modalId:T.IQ.USER_SETTINGS,dialogType:y.default,dialogProps:{isContentProductSettings:!1},text:e({id:"navbar_dropdown.profileSettings",defaultMessage:"Profile"}),icon:m().createElement("i",{className:"fa fa-user"})}),m().createElement(D.A.ItemToggleModalRedux,{id:"accountSettings",modalId:T.IQ.USER_SETTINGS,dialogType:y.default,dialogProps:{isContentProductSettings:!0},text:e({id:"navbar_dropdown.accountSettings",defaultMessage:"Settings"}),icon:m().createElement("i",{className:"fa fa-cog"})})),m().createElement(D.A.Group,null,m().createElement(k.A,{teamId:this.props.teamId,permissions:[b.xB.MANAGE_TEAM]},m().createElement(D.A.ItemToggleModalRedux,{id:"addGroupsToTeam",show:this.props.teamIsGroupConstrained&&this.props.isLicensedForLDAPGroups,modalId:T.IQ.ADD_GROUPS_TO_TEAM,dialogType:w.A,text:e({id:"navbar_dropdown.addGroupsToTeam",defaultMessage:"Add Groups to Team"}),icon:m().createElement("i",{className:"fa fa-user-plus"})})),this.props.guestAccessEnabled&&m().createElement(k.A,{teamId:this.props.teamId,permissions:[b.xB.ADD_USER_TO_TEAM,b.xB.INVITE_GUEST]},m().createElement(D.A.ItemToggleModalRedux,{id:"invitePeople",modalId:T.IQ.INVITATION,dialogType:S.default,text:e({id:"navbar_dropdown.invitePeople",defaultMessage:"Invite People"}),extraText:e({id:"navbar_dropdown.invitePeopleExtraText",defaultMessage:"Add people to the team"}),icon:m().createElement("i",{className:"fa fa-user-plus"}),onClick:()=>(0,x.sx)("ui","click_sidebar_team_dropdown_invite_people")}))),m().createElement(D.A.Group,null,m().createElement(k.A,{teamId:this.props.teamId,permissions:[b.xB.MANAGE_TEAM]},m().createElement(D.A.ItemToggleModalRedux,{id:"teamSettings",modalId:T.IQ.TEAM_SETTINGS,dialogType:C.A,text:e({id:"navbar_dropdown.teamSettings",defaultMessage:"Team Settings"}),icon:m().createElement("i",{className:"fa fa-globe"})})),m().createElement(k.A,{teamId:this.props.teamId,permissions:[b.xB.MANAGE_TEAM]},m().createElement(D.A.ItemToggleModalRedux,{id:"manageGroups",show:this.props.teamIsGroupConstrained&&this.props.isLicensedForLDAPGroups,modalId:T.IQ.MANAGE_TEAM_GROUPS,dialogProps:{teamID:this.props.teamId},dialogType:G.A,text:e({id:"navbar_dropdown.manageGroups",defaultMessage:"Manage Groups"}),icon:m().createElement("i",{className:"fa fa-user-plus"})})),m().createElement(k.A,{teamId:this.props.teamId,permissions:[b.xB.REMOVE_USER_FROM_TEAM,b.xB.MANAGE_TEAM_ROLES]},m().createElement(D.A.ItemToggleModalRedux,{id:"manageMembers",modalId:T.IQ.TEAM_MEMBERS,dialogType:P.A,text:e({id:"navbar_dropdown.manageMembers",defaultMessage:"Manage Members"}),icon:m().createElement("i",{className:"fa fa-users"})})),m().createElement(k.A,{teamId:this.props.teamId,permissions:[b.xB.REMOVE_USER_FROM_TEAM,b.xB.MANAGE_TEAM_ROLES],invert:!0},m().createElement(D.A.ItemToggleModalRedux,{id:"viewMembers",modalId:T.IQ.TEAM_MEMBERS,dialogType:P.A,text:e({id:"navbar_dropdown.viewMembers",defaultMessage:"View Members"}),icon:m().createElement("i",{className:"fa fa-users"})}))),m().createElement(D.A.Group,null,m().createElement(R.A,{permissions:[b.xB.CREATE_TEAM]},m().createElement(D.A.ItemLink,{id:"createTeam",show:!a,to:"/create_team",text:e({id:"navbar_dropdown.create",defaultMessage:"Create a Team"}),icon:m().createElement("i",{className:"fa fa-plus-square"})})),m().createElement(D.A.ItemLink,{id:"joinTeam",show:!this.props.experimentalPrimaryTeam&&this.props.moreTeamsToJoin,to:"/select_team",text:e({id:"navbar_dropdown.join",defaultMessage:"Join Another Team"}),icon:m().createElement("i",{className:"fa fa-plus-square"})}),m().createElement(D.A.ItemToggleModalRedux,{id:"leaveTeam",show:!this.props.teamIsGroupConstrained&&this.props.experimentalPrimaryTeam!==this.props.teamName,modalId:T.IQ.LEAVE_TEAM,dialogType:N.A,text:e({id:"navbar_dropdown.leave",defaultMessage:"Leave Team"}),icon:m().createElement(O,null)})),m().createElement(D.A.Group,null,n),m().createElement(D.A.Group,null,m().createElement(D.A.ItemExternalLink,{id:"helpLink",show:Boolean(this.props.helpLink),url:this.props.helpLink,text:e({id:"navbar_dropdown.help",defaultMessage:"Help"}),icon:m().createElement("i",{className:"fa fa-question"})}),m().createElement(D.A.ItemExternalLink,{id:"reportLink",show:Boolean(this.props.reportAProblemLink),url:this.props.reportAProblemLink,text:e({id:"navbar_dropdown.report",defaultMessage:"Report a Problem"}),icon:m().createElement("i",{className:"fa fa-phone"})}),m().createElement(D.A.ItemExternalLink,{id:"nativeAppLink",show:this.props.appDownloadLink,url:t,text:e({id:"navbar_dropdown.nativeApps",defaultMessage:"Download Apps"}),icon:m().createElement("i",{className:"fa fa-mobile"})}),m().createElement(D.A.ItemToggleModalRedux,{id:"about",modalId:T.IQ.ABOUT,dialogType:L.A,text:e({id:"navbar_dropdown.about",defaultMessage:"About {appTitle}"},{appTitle:this.props.siteName||"Mattermost"}),icon:m().createElement("i",{className:"fa fa-info"})})),m().createElement(D.A.Group,null,m().createElement(D.A.ItemAction,{id:"logout",onClick:this.onLogoutItemClick,text:e({id:"navbar_dropdown.logout",defaultMessage:"Log Out"}),icon:m().createElement("i",{className:"fa fa-sign-out"})})))}}U(Q,"propTypes",{usageDeltaTeams:h().number.isRequired}),U(Q,"defaultProps",{pluginMenuItems:[]});const j=(0,_.injectIntl)(Q),V=(0,n.connect)((function(e){const t=(0,E.zj)(e),a=(0,A.H7)(e),n=t.AppDownloadLink,o=t.SiteName,s=t.ExperimentalPrimaryTeam,r=t.HelpLink,l=(0,g.p)(e),m=(0,A.sZ)(e),d=m&&m.length>0,p=(0,i.bM)(e),c=(0,u.dw)(e),M=(0,E.Ay)(e),f=(0,u.Pd)(e),h=(0,I.P3)(M),_=h&&(null==f?void 0:f.sku)===T.YE.STARTER,b=h&&"true"===(null==c?void 0:c.is_free_trial);return{appDownloadLink:n,experimentalPrimaryTeam:s,helpLink:r,reportAProblemLink:l,pluginMenuItems:e.plugins.components.MainMenu,moreTeamsToJoin:d,siteName:o,teamId:null==a?void 0:a.id,teamName:null==a?void 0:a.name,isMentionSearch:p===T._n.MENTION,teamIsGroupConstrained:Boolean(null==a?void 0:a.group_constrained),isLicensedForLDAPGroups:"true"===e.entities.general.license.LDAPGroups,guestAccessEnabled:"true"===t.EnableGuestAccounts,isStarterFree:_,isFreeTrial:b}}),(function(e){return{actions:(0,c.bindActionCreators)({showMentions:M.NP,showFlaggedPosts:M.LF,closeRightHandSide:M.bP,closeRhsMenu:M.IV},e)}}))(j),H=e=>{let{isOpen:t,currentUser:a}=e;const n=(0,p.A)();return a?m().createElement("div",{className:r()("sidebar--menu",{"move--left":t}),id:"sidebar-menu"},m().createElement("div",{className:"nav-pills__container mobile-main-menu"},m().createElement(d.A,{in:t,enter:!0,exit:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:300},m().createElement(V,{usageDeltaTeams:n.teams.active})))):null},q=(0,l.memo)(H);function Z(e){return{currentUser:(0,o.HW)(e),isOpen:(0,i.ZE)(e)}}(0,n.connect)(Z);const z=(0,n.connect)(Z)(q)}}]);
//# sourceMappingURL=4302.bed080ce4f3d0ad7f45e.js.map