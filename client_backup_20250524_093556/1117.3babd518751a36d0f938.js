/*! For license information please see 1117.3babd518751a36d0f938.js.LICENSE.txt */
(self.webpackChunkmattermost_webapp=self.webpackChunkmattermost_webapp||[]).push([[1117],{66963:(t,e,i)=>{"use strict";i.d(e,{A:()=>h});var n=i(68102),r=i(97023),o=i(30904),s=i(52836),a=i(92014),h=(i(51565),i(26489),(0,r.forwardRef)((function(t,e){var i=(0,s.u)(t),h=(0,a.u)(i);return r.createElement(o.S,(0,n.A)({ref:e},h))})))},92014:(t,e,i)=>{"use strict";i.d(e,{u:()=>p});var n=i(27405),r=i(94300),o=i(81515),s=i(97023),a=i(64174),h=i(30904),u=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],c=function(){var t=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0,i=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),n=String(e.getOptionValue(t)).toLowerCase(),r=String(e.getOptionLabel(t)).toLowerCase();return n===i||r===i},l={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,e,i,n){return!(!t||e.some((function(e){return c(t,e,n)}))||i.some((function(e){return c(t,e,n)})))},getNewOptionData:function(t,e){return{label:e,value:t,__isNew__:!0}}};function p(t){var e=t.allowCreateWhileLoading,i=void 0!==e&&e,c=t.createOptionPosition,p=void 0===c?"last":c,f=t.formatCreateLabel,d=void 0===f?l.formatCreateLabel:f,v=t.isValidNewOption,g=void 0===v?l.isValidNewOption:v,m=t.getNewOptionData,y=void 0===m?l.getNewOptionData:m,_=t.onCreateOption,w=t.options,S=void 0===w?[]:w,E=t.onChange,T=(0,o.A)(t,u),b=T.getOptionValue,C=void 0===b?h.g:b,I=T.getOptionLabel,O=void 0===I?h.b:I,A=T.inputValue,V=T.isLoading,M=T.isMulti,R=T.value,L=T.name,P=(0,s.useMemo)((function(){return g(A,(0,a.H)(R),S,{getOptionValue:C,getOptionLabel:O})?y(A,d(A)):void 0}),[d,y,O,C,A,g,S,R]),F=(0,s.useMemo)((function(){return!i&&V||!P?S:"first"===p?[P].concat((0,r.A)(S)):[].concat((0,r.A)(S),[P])}),[i,p,V,P,S]),x=(0,s.useCallback)((function(t,e){if("select-option"!==e.action)return E(t,e);var i=Array.isArray(t)?t:[t];if(i[i.length-1]!==P)E(t,e);else if(_)_(A);else{var n=y(A,A),o={action:"create-option",name:L,option:n};E((0,a.D)(M,[].concat((0,r.A)((0,a.H)(R)),[n]),n),o)}}),[y,A,M,L,P,_,E,R]);return(0,n.A)((0,n.A)({},T),{},{options:F,onChange:x})}},50792:t=>{"use strict";var e=Object.prototype.hasOwnProperty,i="~";function n(){}function r(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new r(n,o||t,s),h=i?i+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,n,r=[];if(0===this._eventsCount)return r;for(n in t=this._events)e.call(t,n)&&r.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},a.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,r,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var h,u,c=this._events[a],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,s),!0}for(u=1,h=new Array(l-1);u<l;u++)h[u-1]=arguments[u];c.fn.apply(c.context,h)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),l){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,r);break;default:if(!h)for(p=1,h=new Array(l-1);p<l;p++)h[p-1]=arguments[p];c[u].fn.apply(c[u].context,h)}}return!0},a.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||s(this,o);else{for(var h=0,u=[],c=a.length;h<c;h++)(a[h].fn!==e||r&&!a[h].once||n&&a[h].context!==n)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&s(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},70727:function(t){!function(e){var i=0,n=!1,r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,o)}catch(t){}var s=function(t){var e=t.target,n=window.innerWidth/window.document.documentElement.clientWidth;if(!(t.touches.length>1||1!==n)){for(;e!==document.body&&e!==document;){var r=window.getComputedStyle(e);if(!r)break;if("INPUT"===e.nodeName&&"range"===e.getAttribute("type"))return;var o=r.getPropertyValue("-webkit-overflow-scrolling"),s=r.getPropertyValue("overflow-y"),a=parseInt(r.getPropertyValue("height"),10),h="touch"===o&&("auto"===s||"scroll"===s),u=e.scrollHeight>e.offsetHeight;if(h&&u){var c=t.touches?t.touches[0].screenY:t.screenY,l=i<=c&&0===e.scrollTop,p=i>=c&&e.scrollHeight-e.scrollTop===a;return void((l||p)&&t.preventDefault())}e=e.parentNode}t.preventDefault()}},a=function(t){i=t.touches?t.touches[0].screenY:t.screenY},h=function(){window.addEventListener("touchstart",a,!!r&&{passive:!1}),window.addEventListener("touchmove",s,!!r&&{passive:!1}),n=!0},u=document.createElement("div");document.documentElement.appendChild(u),u.style.WebkitOverflowScrolling="touch";var c="getComputedStyle"in window&&"touch"===window.getComputedStyle(u)["-webkit-overflow-scrolling"];document.documentElement.removeChild(u),c&&h();var l={enable:h,disable:function(){window.removeEventListener("touchstart",a,!1),window.removeEventListener("touchmove",s,!1),n=!1},isEnabled:function(){return n},isScrollSupported:c};t.exports&&(t.exports=l),"function"==typeof e.define?(0,e.define)("iNoBounce",[],(function(){return l})):e.iNoBounce=l}(this)},77234:function(t,e,i){var n=i(88538);t.exports=function(){"use strict";var t=void 0;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t||void 0===n||"node"!==n.title||(t=setImmediate);var e=t=t||function(t){window.setTimeout(t,1e3/60)},i=Array.prototype.concat,r=Array.prototype.slice;function o(t){return e(t)}function s(t,e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}var a={};function h(t){if(a[t])return a[t];var e=t.replace("#","");3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var i=e.match(/.{2}/g);if(!i||i.length<3)throw new Error("Expected a color string of format #rrggbb");var n={r:parseInt(i[0],16),g:parseInt(i[1],16),b:parseInt(i[2],16)};return a[t]=n,n}function u(t,e,i){var n=t.toString(16),r=e.toString(16),o=i.toString(16);return"#"+(n=n.length<2?"0"+n:n)+(r=r.length<2?"0"+r:r)+(o.length<2?"0"+o:o)}var c=Object.freeze({bind:function(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];return function(){for(var n=arguments.length,s=Array(n),a=0;a<n;a++)s[a]=arguments[a];t.apply(e,i.call(o,r.call(s)))}},extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},onFrame:o,removeFirst:s,hexToRGB:h,rgbToHex:u});function l(t,e,i,n,r){return n+(t-e)/(i-e)*(r-n)}var p=Object.freeze({mapValueInRange:l,interpolateColor:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments[5],s=h(e),a=h(i),c=Math.floor(l(t,n,r,s.r,a.r)),p=Math.floor(l(t,n,r,s.g,a.g)),f=Math.floor(l(t,n,r,s.b,a.b));return o?"rgb("+c+","+p+","+f+")":u(c,p,f)},degreesToRadians:function(t){return t*Math.PI/180},radiansToDegrees:function(t){return 180*t/Math.PI}});function f(t){return 3.62*(t-30)+194}function d(t){return 3*(t-8)+25}var v=Object.freeze({tensionFromOrigamiValue:f,origamiValueFromTension:function(t){return(t-194)/3.62+30},frictionFromOrigamiValue:d,origamiFromFriction:function(t){return(t-25)/3+8}}),g=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},y=function(){function t(){g(this,t),this.springSystem=null}return t.prototype.run=function(){var t=S.call(this);o((function(){t.loop(Date.now())}))},t}(),_=function(){function t(e){g(this,t),this.springSystem=null,this.time=0,this.running=!1,this.timestep=e||16.667}return t.prototype.run=function(){var t=S.call(this);if(!this.running){for(this.running=!0;!t.getIsIdle();)t.loop(this.time+=this.timestep);this.running=!1}},t}(),w=function(){function t(){g(this,t),this.springSystem=null,this.time=0,this.running=!1}return t.prototype.run=function(){},t.prototype.step=function(t){S.call(this).loop(this.time+=t)},t}();function S(){if(null==this.springSystem)throw new Error("cannot run looper without a springSystem");return this.springSystem}var E=Object.freeze({AnimationLooper:y,SimulationLooper:_,SteppingSimulationLooper:w}),T=function(){function t(e,i){g(this,t),this.bounciness=e,this.speed=i;var n=this.normalize(e/1.7,0,20);n=this.projectNormal(n,0,.8);var r=this.normalize(i/1.7,0,20);this.bouncyTension=this.projectNormal(r,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(n,this.b3Nobounce(this.bouncyTension),.01)}return t.prototype.normalize=function(t,e,i){return(t-e)/(i-e)},t.prototype.projectNormal=function(t,e,i){return e+t*(i-e)},t.prototype.linearInterpolation=function(t,e,i){return t*i+(1-t)*e},t.prototype.quadraticOutInterpolation=function(t,e,i){return this.linearInterpolation(2*t-t*t,e,i)},t.prototype.b3Friction1=function(t){return 7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28},t.prototype.b3Friction2=function(t){return 44e-6*Math.pow(t,3)-.006*Math.pow(t,2)+.36*t+2},t.prototype.b3Friction3=function(t){return 45e-8*Math.pow(t,3)-332e-6*Math.pow(t,2)+.1078*t+5.84},t.prototype.b3Nobounce=function(t){return t<=18?this.b3Friction1(t):t>18&&t<=44?this.b3Friction2(t):this.b3Friction3(t)},t}(),b=function(){function t(e,i){g(this,t),this.tension=e,this.friction=i}return t.fromOrigamiTensionAndFriction=function(e,i){return new t(f(e),d(i))},t.fromBouncinessAndSpeed=function(e,i){var n=new T(e,i);return t.fromOrigamiTensionAndFriction(n.bouncyTension,n.bouncyFriction)},t.coastingConfigWithOrigamiFriction=function(e){return new t(0,d(e))},t}();b.DEFAULT_ORIGAMI_SPRING_CONFIG=b.fromOrigamiTensionAndFriction(40,7);var C=function t(){g(this,t),this.position=0,this.velocity=0},I=function(){function t(e){g(this,t),this.listeners=[],this._startValue=0,this._currentState=new C,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new C,this._restSpeedThreshold=.001,this._tempState=new C,this._timeAccumulator=0,this._wasAtRest=!0,this._id="s"+t._ID++,this._springSystem=e}return t.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},t.prototype.getId=function(){return this._id},t.prototype.setSpringConfig=function(t){return this._springConfig=t,this},t.prototype.getSpringConfig=function(){return this._springConfig},t.prototype.setCurrentValue=function(t,e){return this._startValue=t,this._currentState.position=t,e||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},t.prototype.getStartValue=function(){return this._startValue},t.prototype.getCurrentValue=function(){return this._currentState.position},t.prototype.getCurrentDisplacementDistance=function(){return this.getDisplacementDistanceForState(this._currentState)},t.prototype.getDisplacementDistanceForState=function(t){return Math.abs(this._endValue-t.position)},t.prototype.setEndValue=function(t){if(this._endValue===t&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=t,this._springSystem.activateSpring(this.getId());for(var e=0,i=this.listeners.length;e<i;e++){var n=this.listeners[e].onSpringEndStateChange;n&&n(this)}return this},t.prototype.getEndValue=function(){return this._endValue},t.prototype.setVelocity=function(t){return t===this._currentState.velocity||(this._currentState.velocity=t,this._springSystem.activateSpring(this.getId())),this},t.prototype.getVelocity=function(){return this._currentState.velocity},t.prototype.setRestSpeedThreshold=function(t){return this._restSpeedThreshold=t,this},t.prototype.getRestSpeedThreshold=function(){return this._restSpeedThreshold},t.prototype.setRestDisplacementThreshold=function(t){this._displacementFromRestThreshold=t},t.prototype.getRestDisplacementThreshold=function(){return this._displacementFromRestThreshold},t.prototype.setOvershootClampingEnabled=function(t){return this._overshootClampingEnabled=t,this},t.prototype.isOvershootClampingEnabled=function(){return this._overshootClampingEnabled},t.prototype.isOvershooting=function(){var t=this._startValue,e=this._endValue;return this._springConfig.tension>0&&(t<e&&this.getCurrentValue()>e||t>e&&this.getCurrentValue()<e)},t.prototype.advance=function(e,i){var n=this.isAtRest();if(!n||!this._wasAtRest){var r=i;i>t.MAX_DELTA_TIME_SEC&&(r=t.MAX_DELTA_TIME_SEC),this._timeAccumulator+=r;for(var o=this._springConfig.tension,s=this._springConfig.friction,a=this._currentState.position,h=this._currentState.velocity,u=this._tempState.position,c=this._tempState.velocity,l=void 0,p=void 0,f=void 0,d=void 0,v=void 0,g=void 0,m=void 0,y=void 0;this._timeAccumulator>=t.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=t.SOLVER_TIMESTEP_SEC,this._timeAccumulator<t.SOLVER_TIMESTEP_SEC&&(this._previousState.position=a,this._previousState.velocity=h),l=h,p=o*(this._endValue-u)-s*h,u=a+l*t.SOLVER_TIMESTEP_SEC*.5,f=c=h+p*t.SOLVER_TIMESTEP_SEC*.5,d=o*(this._endValue-u)-s*c,u=a+f*t.SOLVER_TIMESTEP_SEC*.5,v=c=h+d*t.SOLVER_TIMESTEP_SEC*.5,g=o*(this._endValue-u)-s*c,u=a+v*t.SOLVER_TIMESTEP_SEC,m=c=h+g*t.SOLVER_TIMESTEP_SEC,y=1/6*(p+2*(d+g)+(o*(this._endValue-u)-s*c)),a+=1/6*(l+2*(f+v)+m)*t.SOLVER_TIMESTEP_SEC,h+=y*t.SOLVER_TIMESTEP_SEC;this._tempState.position=u,this._tempState.velocity=c,this._currentState.position=a,this._currentState.velocity=h,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/t.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),n=!0);var _=!1;this._wasAtRest&&(this._wasAtRest=!1,_=!0);var w=!1;n&&(this._wasAtRest=!0,w=!0),this.notifyPositionUpdated(_,w)}},t.prototype.notifyPositionUpdated=function(t,e){for(var i=0,n=this.listeners.length;i<n;i++){var r=this.listeners[i];t&&r.onSpringActivate&&r.onSpringActivate(this),r.onSpringUpdate&&r.onSpringUpdate(this),e&&r.onSpringAtRest&&r.onSpringAtRest(this)}},t.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},t.prototype.wasAtRest=function(){return this._wasAtRest},t.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},t.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},t.prototype._interpolate=function(t){this._currentState.position=this._currentState.position*t+this._previousState.position*(1-t),this._currentState.velocity=this._currentState.velocity*t+this._previousState.velocity*(1-t)},t.prototype.getListeners=function(){return this.listeners},t.prototype.addListener=function(t){return this.listeners.push(t),this},t.prototype.removeListener=function(t){return s(this.listeners,t),this},t.prototype.removeAllListeners=function(){return this.listeners=[],this},t.prototype.currentValueIsApproximately=function(t){return Math.abs(this.getCurrentValue()-t)<=this.getRestDisplacementThreshold()},t}();I._ID=0,I.MAX_DELTA_TIME_SEC=.064,I.SOLVER_TIMESTEP_SEC=.001;var O=function(){function t(e){g(this,t),this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={},this.looper=e||new y,this.looper.springSystem=this}return t.prototype.setLooper=function(t){this.looper=t,t.springSystem=this},t.prototype.createSpring=function(t,e){var i;return i=void 0===t||void 0===e?b.DEFAULT_ORIGAMI_SPRING_CONFIG:b.fromOrigamiTensionAndFriction(t,e),this.createSpringWithConfig(i)},t.prototype.createSpringWithBouncinessAndSpeed=function(t,e){var i;return i=void 0===t||void 0===e?b.DEFAULT_ORIGAMI_SPRING_CONFIG:b.fromBouncinessAndSpeed(t,e),this.createSpringWithConfig(i)},t.prototype.createSpringWithConfig=function(t){var e=new I(this);return this.registerSpring(e),e.setSpringConfig(t),e},t.prototype.getIsIdle=function(){return this._isIdle},t.prototype.getSpringById=function(t){return this._springRegistry[t]},t.prototype.getAllSprings=function(){var t=[];for(var e in this._springRegistry)this._springRegistry.hasOwnProperty(e)&&t.push(this._springRegistry[e]);return t},t.prototype.registerSpring=function(t){this._springRegistry[t.getId()]=t},t.prototype.deregisterSpring=function(t){s(this._activeSprings,t),delete this._springRegistry[t.getId()]},t.prototype.advance=function(t,e){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var i=0,n=this._activeSprings.length;i<n;i++){var r=this._activeSprings[i];r.systemShouldAdvance()?r.advance(t/1e3,e/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(r))}for(;this._idleSpringIndices.length>0;){var o=this._idleSpringIndices.pop();o>=0&&this._activeSprings.splice(o,1)}},t.prototype.loop=function(t){var e=void 0;-1===this._lastTimeMillis&&(this._lastTimeMillis=t-1);var i=t-this._lastTimeMillis;this._lastTimeMillis=t;var n=0,r=this.listeners.length;for(n=0;n<r;n++)(e=this.listeners[n]).onBeforeIntegrate&&e.onBeforeIntegrate(this);for(this.advance(t,i),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),n=0;n<r;n++)(e=this.listeners[n]).onAfterIntegrate&&e.onAfterIntegrate(this);this._isIdle||this.looper.run()},t.prototype.activateSpring=function(t){var e=this._springRegistry[t];-1===this._activeSprings.indexOf(e)&&this._activeSprings.push(e),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},t.prototype.addListener=function(t){this.listeners.push(t)},t.prototype.removeListener=function(t){s(this.listeners,t)},t.prototype.removeAllListeners=function(){this.listeners=[]},t}();return m({},E,{OrigamiValueConverter:v,MathUtil:p,Spring:I,SpringConfig:b,SpringSystem:O,util:m({},c,p)})}()},79030:(t,e,i)=>{"use strict";i.d(e,{A:()=>j});var n=i(50792);class r extends Error{constructor(t){super(t),this.name="TimeoutError"}}class o extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const s=t=>void 0===globalThis.DOMException?new o(t):new DOMException(t),a=t=>{const e=void 0===t.reason?s("This operation was aborted."):t.reason;return e instanceof Error?e:s(e)};var h,u=function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)};class c{constructor(){h.set(this,[])}enqueue(t,e){const i={priority:(e={priority:0,...e}).priority,run:t};if(this.size&&u(this,h,"f")[this.size-1].priority>=e.priority)return void u(this,h,"f").push(i);const n=function(t,e){let i=0,n=t.length;for(;n>0;){const o=Math.trunc(n/2);let s=i+o;r=t[s],e.priority-r.priority<=0?(i=++s,n-=o+1):n=o}var r;return i}(u(this,h,"f"),i);u(this,h,"f").splice(n,0,i)}dequeue(){const t=u(this,h,"f").shift();return null==t?void 0:t.run}filter(t){return u(this,h,"f").filter((e=>e.priority===t.priority)).map((t=>t.run))}get size(){return u(this,h,"f").length}}h=new WeakMap;var l,p,f,d,v,g,m,y,_,w,S,E,T,b,C,I,O,A,V,M,R,L,P,F,x,N,D=function(t,e,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(t,i):r?r.value=i:e.set(t,i),i},k=function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)};const W=new r;class z extends Error{}class j extends n{constructor(t){var e,i,n,r;if(super(),l.add(this),p.set(this,void 0),f.set(this,void 0),d.set(this,0),v.set(this,void 0),g.set(this,void 0),m.set(this,0),y.set(this,void 0),_.set(this,void 0),w.set(this,void 0),S.set(this,void 0),E.set(this,0),T.set(this,void 0),b.set(this,void 0),C.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:c,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(e=t.intervalCap)||void 0===e?void 0:e.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(r=null===(n=t.interval)||void 0===n?void 0:n.toString())&&void 0!==r?r:""}\` (${typeof t.interval})`);D(this,p,t.carryoverConcurrencyCount,"f"),D(this,f,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),D(this,v,t.intervalCap,"f"),D(this,g,t.interval,"f"),D(this,w,new t.queueClass,"f"),D(this,S,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,D(this,C,!0===t.throwOnTimeout,"f"),D(this,b,!1===t.autoStart,"f")}get concurrency(){return k(this,T,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);D(this,T,t,"f"),k(this,l,"m",x).call(this)}async add(t,e={}){return new Promise(((i,n)=>{k(this,w,"f").enqueue((async()=>{var r,o,s;D(this,E,(o=k(this,E,"f"),++o),"f"),D(this,d,(s=k(this,d,"f"),++s),"f");try{if(null===(r=e.signal)||void 0===r?void 0:r.aborted)return void n(new z("The task was aborted."));const o=void 0===this.timeout&&void 0===e.timeout?t({signal:e.signal}):function(t,e,i,n){let r;const o=new Promise(((o,s)=>{if("number"!=typeof e||1!==Math.sign(e))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e!==Number.POSITIVE_INFINITY){if((n={customTimers:{setTimeout,clearTimeout},...n}).signal){const{signal:t}=n;t.aborted&&s(a(t)),t.addEventListener("abort",(()=>{s(a(t))}))}r=n.customTimers.setTimeout.call(void 0,(()=>{try{o(i())}catch(t){s(t)}}),e),(async()=>{try{o(await t)}catch(t){s(t)}finally{n.customTimers.clearTimeout.call(void 0,r)}})()}else o(t)}));return o.clear=()=>{clearTimeout(r),r=void 0},o}(Promise.resolve(t({signal:e.signal})),void 0===e.timeout?this.timeout:e.timeout,(()=>{(void 0===e.throwOnTimeout?k(this,C,"f"):e.throwOnTimeout)&&n(W)})),s=await o;i(s),this.emit("completed",s)}catch(t){n(t),this.emit("error",t)}k(this,l,"m",A).call(this)}),e),k(this,l,"m",L).call(this),this.emit("add")}))}async addAll(t,e){return Promise.all(t.map((async t=>this.add(t,e))))}start(){return k(this,b,"f")?(D(this,b,!1,"f"),k(this,l,"m",x).call(this),this):this}pause(){D(this,b,!0,"f")}clear(){D(this,w,new(k(this,S,"f")),"f")}async onEmpty(){0!==k(this,w,"f").size&&await k(this,l,"m",N).call(this,"empty")}async onSizeLessThan(t){k(this,w,"f").size<t||await k(this,l,"m",N).call(this,"next",(()=>k(this,w,"f").size<t))}async onIdle(){0===k(this,E,"f")&&0===k(this,w,"f").size||await k(this,l,"m",N).call(this,"idle")}get size(){return k(this,w,"f").size}sizeBy(t){return k(this,w,"f").filter(t).length}get pending(){return k(this,E,"f")}get isPaused(){return k(this,b,"f")}}p=new WeakMap,f=new WeakMap,d=new WeakMap,v=new WeakMap,g=new WeakMap,m=new WeakMap,y=new WeakMap,_=new WeakMap,w=new WeakMap,S=new WeakMap,E=new WeakMap,T=new WeakMap,b=new WeakMap,C=new WeakMap,l=new WeakSet,I=function(){return k(this,f,"f")||k(this,d,"f")<k(this,v,"f")},O=function(){return k(this,E,"f")<k(this,T,"f")},A=function(){var t;D(this,E,(t=k(this,E,"f"),--t),"f"),k(this,l,"m",L).call(this),this.emit("next")},V=function(){this.emit("empty"),0===k(this,E,"f")&&this.emit("idle")},M=function(){k(this,l,"m",F).call(this),k(this,l,"m",P).call(this),D(this,_,void 0,"f")},R=function(){const t=Date.now();if(void 0===k(this,y,"f")){const e=k(this,m,"f")-t;if(!(e<0))return void 0===k(this,_,"f")&&D(this,_,setTimeout((()=>{k(this,l,"m",M).call(this)}),e),"f"),!0;D(this,d,k(this,p,"f")?k(this,E,"f"):0,"f")}return!1},L=function(){if(0===k(this,w,"f").size)return k(this,y,"f")&&clearInterval(k(this,y,"f")),D(this,y,void 0,"f"),k(this,l,"m",V).call(this),!1;if(!k(this,b,"f")){const t=!k(this,l,"a",R);if(k(this,l,"a",I)&&k(this,l,"a",O)){const e=k(this,w,"f").dequeue();return!!e&&(this.emit("active"),e(),t&&k(this,l,"m",P).call(this),!0)}}return!1},P=function(){k(this,f,"f")||void 0!==k(this,y,"f")||(D(this,y,setInterval((()=>{k(this,l,"m",F).call(this)}),k(this,g,"f")),"f"),D(this,m,Date.now()+k(this,g,"f"),"f"))},F=function(){0===k(this,d,"f")&&0===k(this,E,"f")&&k(this,y,"f")&&(clearInterval(k(this,y,"f")),D(this,y,void 0,"f")),D(this,d,k(this,p,"f")?k(this,E,"f"):0,"f"),k(this,l,"m",x).call(this)},x=function(){for(;k(this,l,"m",L).call(this););},N=async function(t,e){return new Promise((i=>{const n=()=>{e&&!e()||(this.off(t,n),i())};this.on(t,n)}))}}}]);
//# sourceMappingURL=1117.3babd518751a36d0f938.js.map