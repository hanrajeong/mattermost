{"version":3,"file":"750.2e9a9de042ad23a21ec0.js","mappings":"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","sources":["webpack://mattermost-webapp/./src/components/widgets/inputs/url_input/url_input.tsx","webpack://mattermost-webapp/./src/components/channel_name_form_field/channel_name_form_field.tsx","webpack://mattermost-webapp/./src/components/widgets/modals/components/checkbox_with_select_item.tsx","webpack://mattermost-webapp/./src/components/widgets/modals/components/modal_header.tsx","webpack://mattermost-webapp/./src/components/widgets/modals/components/radio_setting_item.tsx","webpack://mattermost-webapp/./src/components/channel_notifications_modal/reset_to_default_button/index.tsx","webpack://mattermost-webapp/./src/components/channel_notifications_modal/utils.tsx","webpack://mattermost-webapp/./src/components/channel_notifications_modal/channel_notifications_modal.tsx","webpack://mattermost-webapp/./src/components/channel_notifications_modal/index.ts","webpack://mattermost-webapp/./src/components/new_channel_modal/new_channel_modal.tsx","webpack://mattermost-webapp/./src/components/resizable_sidebar/resizable_divider.tsx","webpack://mattermost-webapp/./src/components/resizable_sidebar/utils.ts","webpack://mattermost-webapp/./src/components/widgets/modals/components/base_setting_item.tsx","webpack://mattermost-webapp/./src/components/widgets/modals/components/checkbox_setting_item.tsx","webpack://mattermost-webapp/./src/components/widgets/modals/components/modal_section.tsx","webpack://mattermost-webapp/./src/components/widgets/icons/check_circle_icon.tsx","webpack://mattermost-webapp/./src/components/widgets/icons/globe_circle_solid_icon.tsx","webpack://mattermost-webapp/./src/components/widgets/icons/lock_circle_solid_icon.tsx","webpack://mattermost-webapp/./src/components/widgets/icons/upgrade_badge_icon.tsx","webpack://mattermost-webapp/./src/components/widgets/public-private-selector/public-private-selector.tsx","webpack://mattermost-webapp/./src/packages/mattermost-redux/src/actions/boards.ts","webpack://mattermost-webapp/./src/stores/hooks.ts"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport classNames from 'classnames';\nimport React, {useEffect, useState} from 'react';\nimport {useIntl} from 'react-intl';\n\nimport WithTooltip from 'components/with_tooltip';\n\nimport {getShortenedURL} from 'utils/url';\n\nimport Input from '../input/input';\n\nimport './url_input.scss';\n\ntype URLInputProps = {\n    base: string;\n    path?: string;\n    pathInfo: string;\n    limit?: number;\n    maxLength?: number;\n    shortenLength?: number;\n    error?: string;\n    className?: string;\n    onChange?: (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n    onBlur?: (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n};\n\nfunction UrlInput({\n    base,\n    path,\n    pathInfo,\n    limit,\n    maxLength,\n    shortenLength,\n    error,\n    className,\n    onChange,\n    onBlur,\n}: URLInputProps) {\n    const {formatMessage} = useIntl();\n\n    const [editing, setEditing] = useState(false);\n\n    useEffect(() => {\n        if (error) {\n            setEditing(true);\n        }\n    }, [error]);\n\n    const fullPath = `${base}/${path ? `${path}/` : ''}`;\n    const fullURL = `${fullPath}${editing ? '' : pathInfo}`;\n    const isShortenedURL = shortenLength && fullURL.length > shortenLength;\n    const hasError = Boolean(error);\n\n    const handleOnInputChange = (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        event.preventDefault();\n\n        if (onChange) {\n            onChange(event);\n        }\n    };\n\n    const handleOnInputBlur = (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        event.preventDefault();\n\n        setEditing(hasError);\n\n        if (onBlur) {\n            onBlur(event);\n        }\n    };\n\n    const handleOnButtonClick = () => {\n        if (!hasError) {\n            setEditing(!editing);\n        }\n    };\n\n    const urlInputLabel = (\n        <span\n            className='url-input-label'\n            data-testid='urlInputLabel'\n        >\n            {formatMessage({id: 'url_input.label.url', defaultMessage: 'URL: '})}\n            {isShortenedURL ? getShortenedURL(fullURL, shortenLength) : fullURL}\n        </span>\n    );\n\n    return (\n        <div className={classNames('url-input-main', className)}>\n            <div className='url-input-container'>\n                {isShortenedURL ? (\n                    <WithTooltip\n                        title={fullURL}\n                    >\n                        {urlInputLabel}\n                    </WithTooltip>\n\n                ) : (\n                    urlInputLabel\n                )}\n                {(editing || hasError) && (\n                    <Input\n                        data-testid='channelURLInput'\n                        name='url-input'\n                        type='text'\n                        containerClassName='url-input-editable-container'\n                        wrapperClassName='url-input-editable-wrapper'\n                        inputClassName='url-input-editable-path'\n                        autoFocus={true}\n                        autoComplete='off'\n                        value={pathInfo}\n                        limit={limit}\n                        maxLength={maxLength}\n                        hasError={hasError}\n                        onChange={handleOnInputChange}\n                        onBlur={handleOnInputBlur}\n                    />\n                )}\n                <button\n                    className={classNames('url-input-button', {disabled: hasError})}\n                    disabled={hasError}\n                    onClick={handleOnButtonClick}\n                >\n                    <span className='url-input-button-label'>\n                        {editing ? formatMessage({id: 'url_input.buttonLabel.done', defaultMessage: 'Done'}) : formatMessage({id: 'url_input.buttonLabel.edit', defaultMessage: 'Edit'})}\n                    </span>\n                </button>\n            </div>\n            {error && (\n                <div className='url-input-error'>\n                    <i className='icon icon-alert-outline'/>\n                    <span>{error}</span>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default UrlInput;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {useCallback, useEffect, useRef, useState} from 'react';\nimport type {IntlShape} from 'react-intl';\nimport {useIntl} from 'react-intl';\nimport {useSelector} from 'react-redux';\n\nimport type {Team} from '@mattermost/types/teams';\n\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport type {CustomMessageInputType} from 'components/widgets/inputs/input/input';\nimport Input from 'components/widgets/inputs/input/input';\nimport URLInput from 'components/widgets/inputs/url_input/url_input';\n\nimport Constants from 'utils/constants';\nimport {cleanUpUrlable, getSiteURL, validateChannelUrl} from 'utils/url';\nimport {generateSlug} from 'utils/utils';\n\nexport type Props = {\n    value: string;\n    name: string;\n    placeholder: string;\n    onDisplayNameChange: (name: string) => void;\n    onURLChange: (url: string) => void;\n    currentUrl?: string;\n    autoFocus?: boolean;\n    onErrorStateChange?: (isError: boolean, errorMessage?: string) => void;\n    team?: Team;\n    urlError?: string;\n    readOnly?: boolean;\n}\n\nimport './channel_name_form_field.scss';\n\nfunction validateDisplayName(intl: IntlShape, displayNameParam: string) {\n    const errors: string[] = [];\n\n    const displayName = displayNameParam.trim();\n\n    if (displayName.length < Constants.MIN_CHANNELNAME_LENGTH) {\n        errors.push(intl.formatMessage({id: 'channel_modal.name.longer', defaultMessage: 'Channel names must have at least 1 character.'}));\n    }\n\n    if (displayName.length > Constants.MAX_CHANNELNAME_LENGTH) {\n        errors.push(intl.formatMessage({id: 'channel_modal.name.shorter', defaultMessage: 'Channel names must have maximum 64 characters.'}));\n    }\n\n    return errors;\n}\n\n// Component for input fields for editing channel display name\n// along with stuff to edit its URL.\nconst ChannelNameFormField = (props: Props): JSX.Element => {\n    const intl = useIntl();\n    const {formatMessage} = intl;\n\n    // Track if the field has been interacted with\n    const [hasInteracted, setHasInteracted] = useState(false);\n    const [displayNameError, setDisplayNameError] = useState<string>('');\n    const displayName = useRef<string>('');\n    const urlModified = useRef<boolean>(false);\n    const [url, setURL] = useState<string>(props.currentUrl || '');\n    const [urlError, setURLError] = useState<string>('');\n    const [inputCustomMessage, setInputCustomMessage] = useState<CustomMessageInputType | null>(null);\n\n    // Initialize displayName.current with props.value when component mounts\n    useEffect(() => {\n        displayName.current = props.value;\n    }, [props.value]);\n\n    const currentTeamName = useSelector(getCurrentTeam)?.name;\n    const teamName = props.team ? props.team.name : currentTeamName;\n\n    const handleOnDisplayNameChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n        e.preventDefault();\n        const {target: {value: updatedDisplayName}} = e;\n\n        // Mark as interacted when user types\n        if (!hasInteracted && updatedDisplayName.trim() !== '') {\n            setHasInteracted(true);\n        }\n\n        // Only validate if the user has interacted with the field\n        if (hasInteracted) {\n            const displayNameErrors = validateDisplayName(intl, updatedDisplayName);\n\n            if (displayNameErrors.length) {\n                setDisplayNameError(displayNameErrors[displayNameErrors.length - 1]);\n                setInputCustomMessage({\n                    type: 'error',\n                    value: displayNameErrors[displayNameErrors.length - 1],\n                });\n            } else {\n                setDisplayNameError('');\n                setInputCustomMessage(null);\n            }\n        }\n\n        displayName.current = updatedDisplayName;\n        props.onDisplayNameChange(updatedDisplayName);\n\n        if (!urlModified.current) {\n            // if URL isn't explicitly modified, it's derived from the display name\n            const cleanURL = cleanUpUrlable(updatedDisplayName);\n            setURL(cleanURL);\n            setURLError('');\n            props.onURLChange(cleanURL);\n        }\n    }, [props.onDisplayNameChange, props.onURLChange, hasInteracted, intl]);\n\n    const handleOnDisplayNameBlur = useCallback(() => {\n        // Always mark as interacted on blur\n        setHasInteracted(true);\n\n        // Validate on blur - always show errors on blur regardless of interaction state\n        const displayNameErrors = validateDisplayName(intl, displayName.current);\n        setDisplayNameError(displayNameErrors.length ? displayNameErrors[displayNameErrors.length - 1] : '');\n\n        if (displayNameErrors.length) {\n            setInputCustomMessage({\n                type: 'error',\n                value: displayNameErrors[displayNameErrors.length - 1],\n            });\n        } else {\n            setInputCustomMessage(null);\n        }\n\n        // Handle URL generation if needed\n        if (displayName.current && !url) {\n            const url = generateSlug();\n            setURL(url);\n            props.onURLChange(url);\n        }\n    }, [props.onURLChange, displayName.current, url, intl]);\n\n    const handleOnURLChange = useCallback((e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        e.preventDefault();\n        const {target: {value: url}} = e;\n\n        const cleanURL = url.toLowerCase().replace(/\\s/g, '-');\n        const urlErrors = validateChannelUrl(cleanURL, intl) as string[];\n\n        setURLError(urlErrors.length ? urlErrors[urlErrors.length - 1] : '');\n        setURL(cleanURL);\n        urlModified.current = true;\n        props.onURLChange(cleanURL);\n    }, [props.onURLChange]);\n\n    // Add a URL blur handler to validate the URL when the user moves away from the field\n    const handleOnURLBlur = useCallback(() => {\n        // Only validate if the URL has been modified\n        if (urlModified.current) {\n            const urlErrors = validateChannelUrl(url, intl);\n            let lastError = '';\n            if (urlErrors.length && typeof urlErrors[urlErrors.length - 1] === 'string') {\n                // Safe to assert as string because we're always providing intl to validateChannelUrl and have extra type safe check\n                lastError = urlErrors[urlErrors.length - 1] as string;\n            }\n            setURLError(lastError);\n        }\n    }, [url, intl]);\n\n    useEffect(() => {\n        // Only report URL errors if the URL has been explicitly modified and validated\n        // This prevents showing errors during typing\n        if (props.onErrorStateChange) {\n            if (displayNameError) {\n                props.onErrorStateChange(true, displayNameError);\n            } else if (urlModified.current && urlError) {\n                props.onErrorStateChange(true, urlError);\n            } else {\n                props.onErrorStateChange(false, '');\n            }\n        }\n    }, [displayNameError, urlError]);\n\n    // Effect to set URL from props if it's modified (used in modals for reset button event which sets the value outside the onChange event)\n    useEffect(() => {\n        if (props.currentUrl) {\n            setURL(props.currentUrl);\n        }\n    }, [props.currentUrl]);\n\n    return (\n        <>\n            <Input\n                type='text'\n                autoComplete='off'\n                autoFocus={props.autoFocus !== false}\n                required={true}\n                name={props.name}\n                containerClassName={`${props.name}-container`}\n                inputClassName={`${props.name}-input channel-name-input-field`}\n                label={formatMessage({id: 'channel_modal.name.label', defaultMessage: 'Channel name'})}\n                placeholder={props.placeholder}\n                limit={Constants.MAX_CHANNELNAME_LENGTH}\n\n                // Only pass minLength after the user has interacted with the field\n                minLength={hasInteracted ? Constants.MIN_CHANNELNAME_LENGTH : undefined}\n                value={props.value}\n                customMessage={inputCustomMessage}\n                onChange={handleOnDisplayNameChange}\n                onBlur={handleOnDisplayNameBlur}\n                disabled={props.readOnly}\n            />\n            <URLInput\n                className='new-channel-modal__url'\n                base={getSiteURL()}\n                path={`${teamName}/channels`}\n                pathInfo={url}\n                limit={Constants.MAX_CHANNELNAME_LENGTH}\n                shortenLength={Constants.DEFAULT_CHANNELURL_SHORTEN_LENGTH}\n                error={urlError || props.urlError}\n                onChange={handleOnURLChange}\n                onBlur={handleOnURLBlur}\n            />\n        </>\n    );\n};\n\nexport default ChannelNameFormField;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport type {ReactNode} from 'react';\nimport React from 'react';\nimport ReactSelect from 'react-select';\nimport type {OnChangeValue} from 'react-select';\n\nimport type {BaseSettingItemProps} from './base_setting_item';\nimport BaseSettingItem from './base_setting_item';\nimport type {FieldsetCheckbox} from './checkbox_setting_item';\nimport type {FieldsetReactSelect, Option} from './react_select_item';\n\ntype Props = BaseSettingItemProps & {\n    containerClassName?: string;\n    descriptionAboveContent?: boolean;\n    checkboxFieldTitle: ReactNode;\n    checkboxFieldData: FieldsetCheckbox;\n    checkboxFieldValue: boolean;\n    handleCheckboxChange: (e: boolean) => void;\n    selectFieldData: FieldsetReactSelect;\n    selectFieldValue?: Option;\n    handleSelectChange: (selected: OnChangeValue<Option, boolean>) => void;\n    isSelectDisabled?: boolean;\n    selectPlaceholder?: string;\n}\n\nexport default function CheckboxWithSelectSettingItem({\n    title,\n    description,\n    containerClassName,\n    descriptionAboveContent = false,\n    checkboxFieldTitle,\n    checkboxFieldData,\n    checkboxFieldValue,\n    handleCheckboxChange,\n    selectFieldData,\n    selectFieldValue,\n    handleSelectChange,\n    isSelectDisabled,\n    selectPlaceholder,\n}: Props) {\n    const content = (\n        <>\n            <fieldset\n                key={checkboxFieldData.name}\n                className='mm-modal-generic-section-item__fieldset-checkbox-ctr'\n            >\n                <label className='mm-modal-generic-section-item__fieldset-checkbox'>\n                    <input\n                        className='mm-modal-generic-section-item__input-checkbox'\n                        data-testid={checkboxFieldData.dataTestId}\n                        type='checkbox'\n                        name={checkboxFieldData.name}\n                        checked={checkboxFieldValue}\n                        onChange={(e) => handleCheckboxChange(e.target.checked)}\n                    />\n                    {checkboxFieldTitle}\n                </label>\n            </fieldset>\n            <fieldset className='mm-modal-generic-section-item__fieldset-react-select'>\n                <ReactSelect\n                    id={selectFieldData.id}\n                    inputId={selectFieldData.inputId}\n                    aria-labelledby={selectFieldData.ariaLabelledby}\n                    className='react-select singleSelect react-select-top'\n                    classNamePrefix='react-select'\n                    options={selectFieldData.options}\n                    isClearable={selectFieldData.clearable}\n                    isDisabled={isSelectDisabled}\n                    isSearchable={false}\n                    placeholder={selectPlaceholder}\n                    onChange={(value) => handleSelectChange(value)}\n                    value={selectFieldValue}\n                    components={{IndicatorSeparator: NoIndicatorSeparatorComponent}}\n                />\n            </fieldset>\n        </>\n    );\n\n    return (\n        <BaseSettingItem\n            title={title}\n            content={content}\n            isContentInline={true}\n            description={description}\n            className={containerClassName}\n            descriptionAboveContent={descriptionAboveContent}\n        />\n    );\n}\n\nfunction NoIndicatorSeparatorComponent() {\n    return null;\n}\n\nexport type SelectOption = {\n    value: string;\n    label: ReactNode;\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {useIntl} from 'react-intl';\nimport './modal_header.scss';\n\ntype Props = {\n    id: string;\n    title: string;\n    subtitle: string;\n    handleClose?: (e: React.MouseEvent) => void;\n}\n\nfunction ModalHeader({id, title, subtitle, handleClose}: Props) {\n    const intl = useIntl();\n    return (\n        <header className='mm-modal-header'>\n            <h1\n                id={`mm-modal-header-${id}`}\n                className='mm-modal-header__title'\n            >\n                {title}\n            </h1>\n            <div className='mm-modal-header__vertical-divider'/>\n            <p className='mm-modal-header__subtitle'>{subtitle}</p>\n            {handleClose && <div className='mm-modal-header__ctr'>\n                <button\n                    className='btn btn-icon'\n                    onClick={handleClose}\n                    aria-label={intl.formatMessage({id: 'modal.header_close', defaultMessage: 'Close'})}\n                >\n                    <i className='icon icon-close'/>\n                </button>\n            </div>}\n        </header>\n    );\n}\nexport default ModalHeader;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport type {ReactNode} from 'react';\nimport React from 'react';\n\nimport type {BaseSettingItemProps} from './base_setting_item';\nimport BaseSettingItem from './base_setting_item';\n\nexport type FieldsetRadio = {\n    options: Array<{\n        dataTestId?: string;\n        title: ReactNode;\n        name: string;\n        key: string;\n        value: string;\n    }>;\n}\n\ntype Props = BaseSettingItemProps & {\n    className?: string;\n    inputFieldData: FieldsetRadio;\n    inputFieldValue: string;\n    handleChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nfunction RadioSettingItem({\n    title,\n    description,\n    className,\n    inputFieldData,\n    inputFieldValue,\n    handleChange,\n    dataTestId,\n}: Props): JSX.Element {\n    const fields = inputFieldData.options.map((option) => {\n        return (\n            <label\n                key={option.key}\n                className='mm-modal-generic-section-item__label-radio'\n            >\n                <input\n                    id={option.key}\n                    data-testid={option.dataTestId}\n                    type='radio'\n                    name={option.name}\n                    checked={option.value === inputFieldValue}\n                    value={option.value}\n                    onChange={handleChange}\n                />\n                {option.title}\n            </label>\n        );\n    });\n\n    const content = (\n        <fieldset\n            className='mm-modal-generic-section-item__fieldset-radio'\n        >\n            <legend className='hidden-label'>\n                {title}\n            </legend>\n            {[...fields]}\n        </fieldset>\n    );\n    return (\n        <BaseSettingItem\n            dataTestId={dataTestId}\n            className={className}\n            content={content}\n            title={title}\n            description={description}\n        />\n    );\n}\n\nexport default RadioSettingItem;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {useMemo} from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport type {ChannelMembership, ChannelNotifyProps} from '@mattermost/types/channels';\nimport type {UserNotifyProps, UserProfile} from '@mattermost/types/users';\n\nimport {DesktopSound, NotificationLevels} from 'utils/constants';\nimport {notificationSoundKeys, convertDesktopSoundNotifyPropFromUserToDesktop} from 'utils/notification_sounds';\n\nexport enum SectionName {\n    Desktop = 'desktop',\n    Mobile = 'mobile',\n}\n\nconst VALID_SECTION_NAMES = Object.values(SectionName);\n\nexport interface Props {\n    sectionName: SectionName;\n    userNotifyProps: UserProfile['notify_props'];\n\n    /** The user's selected channel notify props which is not yet saved */\n    userSelectedChannelNotifyProps: ChannelMembership['notify_props'];\n    onClick: (channelNotifyPropsDefaultedToUserNotifyProps: ChannelMembership['notify_props'], sectionName: SectionName) => void;\n}\n\nexport default function ResetToDefaultButton(props: Props) {\n    const areDesktopNotificationsSameAsDefault = useMemo(() => {\n        const isNotifyMeAboutSame = props.userNotifyProps.desktop === props.userSelectedChannelNotifyProps.desktop;\n        const isThreadReplyNotificationsSame = props.userNotifyProps.desktop_threads === props.userSelectedChannelNotifyProps.desktop_threads;\n        const isSoundSame = convertDesktopSoundNotifyPropFromUserToDesktop(props.userNotifyProps.desktop_sound) === props.userSelectedChannelNotifyProps.desktop_sound;\n\n        let isNotificationSoundSame = false;\n        if (props.userNotifyProps.desktop_notification_sound) {\n            isNotificationSoundSame = props.userNotifyProps.desktop_notification_sound === props.userSelectedChannelNotifyProps.desktop_notification_sound;\n        } else {\n            // It could happen that the notification sound is not set in the user's notify props. That case we should assume its the Bing sound.\n            isNotificationSoundSame = props.userSelectedChannelNotifyProps.desktop_notification_sound === notificationSoundKeys[0] as ChannelNotifyProps['desktop_notification_sound'];\n        }\n\n        return isNotifyMeAboutSame && isThreadReplyNotificationsSame && isSoundSame && isNotificationSoundSame;\n    }, [\n        props.userNotifyProps.desktop,\n        props.userSelectedChannelNotifyProps.desktop,\n        props.userNotifyProps.desktop_threads,\n        props.userSelectedChannelNotifyProps.desktop_threads,\n        props.userNotifyProps.desktop_sound,\n        props.userSelectedChannelNotifyProps.desktop_sound,\n        props.userNotifyProps.desktop_notification_sound,\n        props.userSelectedChannelNotifyProps.desktop_notification_sound,\n    ]);\n\n    const areMobileNotificationsSameAsDefault = useMemo(() => {\n        const isNotifyMeAboutSame = props.userNotifyProps.push === props.userSelectedChannelNotifyProps.push;\n        const isThreadReplyNotificationsSame = props.userNotifyProps.push_threads === props.userSelectedChannelNotifyProps.push_threads;\n\n        return isNotifyMeAboutSame && isThreadReplyNotificationsSame;\n    }, [\n        props.userNotifyProps.push,\n        props.userSelectedChannelNotifyProps.push,\n        props.userNotifyProps.push_threads,\n        props.userSelectedChannelNotifyProps.push_threads,\n    ]);\n\n    if (!VALID_SECTION_NAMES.includes(props.sectionName)) {\n        return null;\n    }\n\n    if (props.sectionName === SectionName.Desktop && areDesktopNotificationsSameAsDefault) {\n        return null;\n    }\n\n    if (props.sectionName === SectionName.Mobile && areMobileNotificationsSameAsDefault) {\n        return null;\n    }\n\n    function handleOnClick() {\n        const channelNotifyPropsDefaultedToUserNotifyProps = resetChannelsNotificationToUsersDefault(props.userNotifyProps, props.sectionName);\n        props.onClick(channelNotifyPropsDefaultedToUserNotifyProps, props.sectionName);\n    }\n\n    return (\n        <button\n            className='ChannelNotificationModal__reset-btn'\n            onClick={handleOnClick}\n            data-testid={`resetToDefaultButton-${props.sectionName}`}\n        >\n            <i className='icon icon-refresh'/>\n            <FormattedMessage\n                id='channel_notifications.resetToDefault'\n                defaultMessage='Reset to default'\n            />\n        </button>\n    );\n}\n\nexport function resetChannelsNotificationToUsersDefault(userNotifyProps: UserNotifyProps, sectionName: SectionName): ChannelMembership['notify_props'] {\n    if (sectionName === SectionName.Desktop) {\n        return {\n            desktop: userNotifyProps.desktop,\n            desktop_threads: userNotifyProps?.desktop_threads ?? NotificationLevels.ALL,\n            desktop_sound: userNotifyProps && userNotifyProps.desktop_sound ? convertDesktopSoundNotifyPropFromUserToDesktop(userNotifyProps.desktop_sound) : DesktopSound.ON,\n            desktop_notification_sound: userNotifyProps?.desktop_notification_sound ?? notificationSoundKeys[0] as ChannelNotifyProps['desktop_notification_sound'],\n        };\n    }\n\n    if (sectionName === SectionName.Mobile) {\n        return {\n            push: userNotifyProps.push,\n            push_threads: userNotifyProps?.push_threads ?? NotificationLevels.ALL,\n        };\n    }\n\n    return {};\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {defineMessage, FormattedMessage} from 'react-intl';\n\nimport type {FieldsetCheckbox} from 'components/widgets/modals/components/checkbox_setting_item';\nimport type {FieldsetRadio} from 'components/widgets/modals/components/radio_setting_item';\nimport type {FieldsetReactSelect} from 'components/widgets/modals/components/react_select_item';\n\nimport {NotificationLevels} from 'utils/constants';\nimport {optionsOfMessageNotificationSoundsSelect} from 'utils/notification_sounds';\n\nconst MuteChannelInputFieldData: FieldsetCheckbox = {\n    name: 'mute channel',\n    dataTestId: 'muteChannel',\n};\n\nconst DesktopReplyThreadsInputFieldData: FieldsetCheckbox = {\n    name: 'desktop reply threads',\n    dataTestId: 'desktopReplyThreads',\n};\n\nconst MobileReplyThreadsInputFieldData: FieldsetCheckbox = {\n    name: 'mobile reply threads',\n    dataTestId: 'mobileReplyThreads',\n};\n\nexport const sameMobileSettingsDesktopInputFieldData: FieldsetCheckbox = {\n    name: 'same mobile settings as Desktop',\n    dataTestId: 'sameMobileSettingsDesktop',\n};\n\nexport const IgnoreMentionsInputFieldData: FieldsetCheckbox = {\n    name: 'ignore mentions',\n    dataTestId: 'ignoreMentions',\n};\n\nexport const AutoFollowThreadsInputFieldData: FieldsetCheckbox = {\n    name: 'auto follow threads',\n    dataTestId: 'autoFollowThreads',\n};\n\nconst defaultMessage = defineMessage({\n    id: 'channel_notifications.default',\n    defaultMessage: '(default)',\n});\n\nexport const desktopNotificationInputFieldData = (defaultOption: string): FieldsetRadio => ({\n    options: [\n        {\n            dataTestId: `desktopNotification-${NotificationLevels.ALL}`,\n            title: (\n                <FormattedMessage\n                    id='channelNotifications.desktopNotification.allMessages'\n                    defaultMessage='All new messages {optionalDefault}'\n                    values={{\n                        optionalDefault: defaultOption === NotificationLevels.ALL ? (\n                            <FormattedMessage\n                                {...defaultMessage}\n                            />) : undefined,\n                    }}\n                />\n            ),\n            name: 'desktop',\n            key: `desktopNotification-${NotificationLevels.ALL}`,\n            value: NotificationLevels.ALL,\n        },\n        {\n            dataTestId: `desktopNotification-${NotificationLevels.MENTION}`,\n            title: (\n                <FormattedMessage\n                    id='channelNotifications.desktopNotification.mention'\n                    defaultMessage='Mentions, direct messages, and keywords only {optionalDefault}'\n                    values={{\n                        optionalDefault: defaultOption === NotificationLevels.MENTION ? (\n                            <FormattedMessage\n                                {...defaultMessage}\n                            />) : undefined,\n                    }}\n                />\n            ),\n            name: 'desktop',\n            key: `desktopNotification-${NotificationLevels.MENTION}`,\n            value: NotificationLevels.MENTION,\n        },\n        {\n            dataTestId: `desktopNotification-${NotificationLevels.NONE}`,\n            title: (\n                <FormattedMessage\n                    id='channelNotifications.desktopNotification.nothing'\n                    defaultMessage='Nothing {optionalDefault}'\n                    values={{\n                        optionalDefault: defaultOption === NotificationLevels.NONE ? (\n                            <FormattedMessage\n                                {...defaultMessage}\n                            />) : undefined,\n                    }}\n                />\n            ),\n            name: 'desktop',\n            key: `desktopNotification-${NotificationLevels.NONE}`,\n            value: NotificationLevels.NONE,\n        },\n    ],\n}\n);\n\nexport const desktopNotificationSoundsCheckboxFieldData: FieldsetCheckbox = {\n    name: 'desktopNotificationSoundsCheckbox',\n    dataTestId: 'desktopNotificationSoundsCheckbox',\n};\n\nexport const desktopNotificationSoundsSelectFieldData: FieldsetReactSelect = {\n    id: 'desktopNotificationSoundsSelect',\n    inputId: 'desktopNotificationSoundsSelectInputId',\n    options: optionsOfMessageNotificationSoundsSelect,\n};\n\nexport const mobileNotificationInputFieldData = (defaultOption: string): FieldsetRadio => ({\n    options: [\n        {\n            dataTestId: `MobileNotification-${NotificationLevels.ALL}`,\n            title: (\n                <FormattedMessage\n                    id='channelNotifications.mobileNotification.newMessages'\n                    defaultMessage='All new messages {optionalDefault}'\n                    values={{\n                        optionalDefault: defaultOption === NotificationLevels.ALL ? (\n                            <FormattedMessage\n                                {...defaultMessage}\n                            />) : undefined,\n                    }}\n                />\n            ),\n            name: 'push',\n            key: `MobileNotification-${NotificationLevels.ALL}`,\n            value: NotificationLevels.ALL,\n        },\n        {\n            dataTestId: `MobileNotification-${NotificationLevels.MENTION}`,\n            title: (\n                <FormattedMessage\n\n                    id='channelNotifications.mobileNotification.mention'\n                    defaultMessage='Mentions, direct messages, and keywords only {optionalDefault}'\n                    values={{\n                        optionalDefault: defaultOption === NotificationLevels.MENTION ? (\n                            <FormattedMessage\n                                {...defaultMessage}\n                            />) : undefined,\n                    }}\n                />\n            ),\n            name: 'push',\n            key: `MobileNotification-${NotificationLevels.MENTION}`,\n            value: NotificationLevels.MENTION,\n        },\n        {\n            dataTestId: `MobileNotification-${NotificationLevels.NONE}`,\n            title: (\n                <FormattedMessage\n                    id='channelNotifications.mobileNotification.nothing'\n                    defaultMessage='Nothing {optionalDefault}'\n                    values={{\n                        optionalDefault: defaultOption === NotificationLevels.NONE ? (\n                            <FormattedMessage\n                                {...defaultMessage}\n                            />) : undefined,\n                    }}\n                />\n            ),\n            name: 'push',\n            key: `MobileNotification-${NotificationLevels.NONE}`,\n            value: NotificationLevels.NONE,\n        },\n    ],\n}\n);\n\nexport default {\n    desktopNotificationInputFieldData,\n    desktopNotificationSoundsCheckboxFieldData,\n    desktopNotificationSoundsSelectFieldData,\n    IgnoreMentionsInputFieldData,\n    mobileNotificationInputFieldData,\n    MuteChannelInputFieldData,\n    DesktopReplyThreadsInputFieldData,\n    MobileReplyThreadsInputFieldData,\n    AutoFollowThreadsInputFieldData,\n    sameMobileSettingsDesktopInputFieldData,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {useCallback, useState} from 'react';\nimport {FormattedMessage, useIntl} from 'react-intl';\nimport type {OnChangeValue} from 'react-select';\n\nimport {BellOffOutlineIcon} from '@mattermost/compass-icons/components';\nimport {GenericModal} from '@mattermost/components';\nimport type {Channel, ChannelMembership, ChannelNotifyProps} from '@mattermost/types/channels';\nimport type {UserNotifyProps, UserProfile} from '@mattermost/types/users';\n\nimport AlertBanner from 'components/alert_banner';\nimport CheckboxSettingItem from 'components/widgets/modals/components/checkbox_setting_item';\nimport CheckboxWithSelectSettingItem from 'components/widgets/modals/components/checkbox_with_select_item';\nimport ModalHeader from 'components/widgets/modals/components/modal_header';\nimport ModalSection from 'components/widgets/modals/components/modal_section';\nimport RadioSettingItem from 'components/widgets/modals/components/radio_setting_item';\nimport type {Option} from 'components/widgets/modals/components/react_select_item';\n\nimport {focusElement} from 'utils/a11y_utils';\nimport {NotificationLevels, DesktopSound, IgnoreChannelMentions} from 'utils/constants';\nimport {convertDesktopSoundNotifyPropFromUserToDesktop, DesktopNotificationSounds, getValueOfNotificationSoundsSelect, stopTryNotificationRing, tryNotificationSound} from 'utils/notification_sounds';\n\nimport ResetToDefaultButton, {SectionName} from './reset_to_default_button';\nimport utils from './utils';\n\nimport type {PropsFromRedux} from './index';\n\nimport './channel_notifications_modal.scss';\n\nexport type Props = PropsFromRedux & {\n\n    /**\n     * Function that is called when the modal has been hidden and should be removed\n     */\n    onExited: () => void;\n\n    /**\n     * Object with info about current channel\n     */\n    channel: Channel;\n\n    /**\n     * Object with info about current user\n     */\n    currentUser: UserProfile;\n\n    /**\n     * Id of the element that triggered the modal opening\n     */\n    focusOriginElement?: string;\n};\n\nexport default function ChannelNotificationsModal(props: Props) {\n    const {formatMessage} = useIntl();\n\n    const [show, setShow] = useState(true);\n    const [serverError, setServerError] = useState('');\n\n    const [settings, setSettings] = useState(getStateFromNotifyProps(props.currentUser.notify_props, props.channelMember?.notify_props));\n\n    const [desktopAndMobileSettingsDifferent, setDesktopAndMobileSettingDifferent] = useState<boolean>(areDesktopAndMobileSettingsDifferent(\n        props.collapsedReplyThreads,\n        getInitialValuesOfChannelNotifyProps(NotificationLevels.ALL, props?.channelMember?.notify_props?.desktop, props.currentUser.notify_props.desktop),\n        getInitialValuesOfChannelNotifyProps(NotificationLevels.ALL, props?.channelMember?.notify_props?.desktop_threads, props.currentUser.notify_props.desktop_threads),\n        getInitialValuesOfChannelNotifyProps(NotificationLevels.ALL, props?.channelMember?.notify_props?.push, props.currentUser.notify_props.push),\n        getInitialValuesOfChannelNotifyProps(NotificationLevels.ALL, props?.channelMember?.notify_props?.push_threads, props.currentUser.notify_props.push_threads),\n    ));\n\n    function handleHide() {\n        setShow(false);\n    }\n\n    function handleExited() {\n        if (props.focusOriginElement) {\n            focusElement(props.focusOriginElement, true);\n        }\n        props.onExited?.();\n    }\n\n    const handleChange = useCallback((values: Record<string, string>) => {\n        setSettings((prevSettings) => ({...prevSettings, ...values}));\n    }, []);\n\n    function handleUseSameMobileSettingsAsDesktopCheckboxChange(value: boolean) {\n        const newValueOfSettings = {...settings};\n        const newValueOfDesktopAndMobileSettingsDifferent = !value;\n\n        if (newValueOfDesktopAndMobileSettingsDifferent === false) {\n            newValueOfSettings.push = settings.desktop;\n            newValueOfSettings.push_threads = settings.desktop_threads;\n        } else {\n            newValueOfSettings.push = getInitialValuesOfChannelNotifyProps(NotificationLevels.ALL, props.channelMember?.notify_props?.push, props.currentUser?.notify_props?.push);\n            newValueOfSettings.push_threads = getInitialValuesOfChannelNotifyProps(NotificationLevels.ALL, props.channelMember?.notify_props?.push_threads, props.currentUser?.notify_props?.push_threads);\n        }\n        setSettings(newValueOfSettings);\n        setDesktopAndMobileSettingDifferent(newValueOfDesktopAndMobileSettingsDifferent);\n    }\n\n    function handleResetToDefaultClicked(channelNotifyPropsDefaultedToUserNotifyProps: ChannelMembership['notify_props'], sectionName: SectionName) {\n        if (sectionName === SectionName.Mobile) {\n            const desktopAndMobileSettingsDiff = areDesktopAndMobileSettingsDifferent(\n                props.collapsedReplyThreads,\n                settings.desktop,\n                settings.desktop_threads,\n                channelNotifyPropsDefaultedToUserNotifyProps.push,\n                channelNotifyPropsDefaultedToUserNotifyProps.push_threads,\n            );\n\n            setDesktopAndMobileSettingDifferent(desktopAndMobileSettingsDiff);\n        }\n\n        setSettings({...settings, ...channelNotifyPropsDefaultedToUserNotifyProps});\n    }\n\n    function handleSave() {\n        const channelNotifyProps = createChannelNotifyPropsFromSelectedSettings(props.currentUser.notify_props, settings, desktopAndMobileSettingsDifferent);\n\n        props.actions.updateChannelNotifyProps(props.currentUser.id, props.channel.id, channelNotifyProps).then((value) => {\n            const {error} = value;\n            if (error) {\n                setServerError(error.message);\n            } else {\n                handleHide();\n            }\n        });\n    }\n\n    const muteOrIgnoreSectionContent = (\n        <>\n            <CheckboxSettingItem\n                inputFieldTitle={\n                    <FormattedMessage\n                        id='channel_notifications.muteChannelTitle'\n                        defaultMessage='Mute channel'\n                    />\n                }\n                description={formatMessage({\n                    id: 'channel_notifications.muteChannelDesc',\n                    defaultMessage: 'Turns off notifications for this channel. You\\'ll still see badges if you\\'re mentioned.',\n                })}\n                inputFieldValue={settings.mark_unread === 'mention'}\n                inputFieldData={utils.MuteChannelInputFieldData}\n                handleChange={(e) => handleChange({mark_unread: e ? 'mention' : 'all'})}\n            />\n            <CheckboxSettingItem\n                inputFieldTitle={\n                    <FormattedMessage\n                        id='channel_notifications.ignoreMentionsTitle'\n                        defaultMessage='Ignore mentions for @channel, @here and @all'\n                    />\n                }\n                description={formatMessage({\n                    id: 'channel_notifications.ignoreMentionsDesc',\n                    defaultMessage: 'When enabled, @channel, @here and @all will not trigger mentions or mention notifications in this channel',\n                })}\n                inputFieldValue={settings.ignore_channel_mentions === 'on'}\n                inputFieldData={utils.IgnoreMentionsInputFieldData}\n                handleChange={(e) => handleChange({ignore_channel_mentions: e ? 'on' : 'off'})}\n            />\n        </>\n    );\n\n    const handleChangeForMessageNotificationSoundSelect = (selectedOption: OnChangeValue<Option, boolean>) => {\n        stopTryNotificationRing();\n\n        if (selectedOption && 'value' in selectedOption) {\n            handleChange({desktop_notification_sound: ((selectedOption as Option).value)});\n            tryNotificationSound(selectedOption.value);\n        }\n    };\n\n    const desktopNotificationsSectionContent = (\n        <>\n            <RadioSettingItem\n                title={formatMessage({\n                    id: 'channel_notifications.NotifyMeTitle',\n                    defaultMessage: 'Notify me about',\n                })}\n                inputFieldValue={settings.desktop || ''}\n                inputFieldData={utils.desktopNotificationInputFieldData(props.currentUser.notify_props.desktop)}\n                handleChange={(e) => handleChange({desktop: e.target.value})}\n            />\n            {props.collapsedReplyThreads && settings.desktop === 'mention' &&\n                <CheckboxSettingItem\n                    title={formatMessage({\n                        id: 'channel_notifications.ThreadsReplyTitle',\n                        defaultMessage: 'Thread reply notifications',\n                    })}\n                    inputFieldValue={settings.desktop_threads === 'all'}\n                    inputFieldData={utils.DesktopReplyThreadsInputFieldData}\n                    inputFieldTitle={\n                        <FormattedMessage\n                            id='channel_notifications.checkbox.threadsReplyTitle'\n                            defaultMessage=\"Notify me about replies to threads I\\'m following\"\n                        />\n                    }\n                    handleChange={(e) => handleChange({desktop_threads: e ? 'all' : 'mention'})}\n                />\n            }\n            {settings.desktop !== 'none' && (\n                <CheckboxWithSelectSettingItem\n                    title={formatMessage({\n                        id: 'channel_notifications.desktopNotifications.title',\n                        defaultMessage: 'Sounds',\n                    })}\n                    checkboxFieldTitle={\n                        <FormattedMessage\n                            id='channel_notifications.desktopNotifications.soundEnable'\n                            defaultMessage='Message notification sounds'\n                        />\n                    }\n                    checkboxFieldValue={settings.desktop_sound === DesktopSound.ON}\n                    checkboxFieldData={utils.desktopNotificationSoundsCheckboxFieldData}\n                    handleCheckboxChange={(isChecked) => handleChange({desktop_sound: isChecked ? DesktopSound.ON : DesktopSound.OFF})}\n                    selectFieldData={utils.desktopNotificationSoundsSelectFieldData}\n                    selectFieldValue={getValueOfNotificationSoundsSelect(settings.desktop_notification_sound)}\n                    isSelectDisabled={settings.desktop_sound !== 'on'}\n                    selectPlaceholder={formatMessage({\n                        id: 'channel_notifications.desktopNotifications.soundSelectPlaceholder',\n                        defaultMessage: 'Select a sound',\n                    })}\n                    handleSelectChange={handleChangeForMessageNotificationSoundSelect}\n                />\n            )}\n        </>\n    );\n\n    const mobileNotificationsSectionContent = (\n        <>\n            <CheckboxSettingItem\n                inputFieldTitle={\n                    <FormattedMessage\n                        id='channel_notifications.checkbox.sameMobileSettingsDesktop'\n                        defaultMessage='Use the same notification settings as desktop'\n                    />\n                }\n                inputFieldValue={!desktopAndMobileSettingsDifferent}\n                inputFieldData={utils.sameMobileSettingsDesktopInputFieldData}\n                handleChange={handleUseSameMobileSettingsAsDesktopCheckboxChange}\n            />\n            {desktopAndMobileSettingsDifferent && (\n                <>\n                    <RadioSettingItem\n                        dataTestId='mobile-notify-me-radio-section'\n                        title={formatMessage({\n                            id: 'channel_notifications.NotifyMeTitle',\n                            defaultMessage: 'Notify me about',\n                        })}\n                        inputFieldValue={settings.push || ''}\n                        inputFieldData={utils.mobileNotificationInputFieldData(props.currentUser.notify_props.push)}\n                        handleChange={(e) => handleChange({push: e.target.value})}\n                    />\n                    {props.collapsedReplyThreads && settings.push === 'mention' &&\n                        <CheckboxSettingItem\n                            dataTestId='mobile-reply-threads-checkbox-section'\n                            title={formatMessage({\n                                id: 'channel_notifications.ThreadsReplyTitle',\n                                defaultMessage: 'Thread reply notifications',\n                            })}\n                            inputFieldTitle={\n                                <FormattedMessage\n                                    id='channel_notifications.checkbox.threadsReplyTitle'\n                                    defaultMessage=\"Notify me about replies to threads I\\'m following\"\n                                />\n                            }\n                            inputFieldValue={settings.push_threads === 'all'}\n                            inputFieldData={utils.MobileReplyThreadsInputFieldData}\n                            handleChange={(e) => handleChange({push_threads: e ? 'all' : 'mention'})}\n                        />}\n                </>\n            )}\n        </>\n    );\n\n    const autoFollowThreadsSectionContent = (\n        <CheckboxSettingItem\n            inputFieldTitle={\n                <FormattedMessage\n                    id='channel_notifications.checkbox.autoFollowThreadsTitle'\n                    defaultMessage='Automatically follow threads in this channel'\n                />\n            }\n            inputFieldValue={settings.channel_auto_follow_threads === 'on'}\n            inputFieldData={utils.AutoFollowThreadsInputFieldData}\n            handleChange={(e) => handleChange({channel_auto_follow_threads: e ? 'on' : 'off'})}\n        />\n    );\n\n    const desktopAndMobileNotificationSectionContent = settings.mark_unread === 'all' ? (\n        <>\n            <div className='ChannelNotificationModal__divider'/>\n            <ModalSection\n                title={formatMessage({\n                    id: 'channel_notifications.desktopNotificationsTitle',\n                    defaultMessage: 'Desktop Notifications',\n                })}\n                titleSuffix={\n                    <ResetToDefaultButton\n                        sectionName={SectionName.Desktop}\n                        userNotifyProps={props.currentUser.notify_props}\n                        userSelectedChannelNotifyProps={settings}\n                        onClick={handleResetToDefaultClicked}\n                    />\n                }\n                description={formatMessage({\n                    id: 'channel_notifications.desktopNotificationsDesc',\n                    defaultMessage: 'Available on Chrome, Edge, Firefox, and the Mattermost Desktop App.',\n                })}\n                content={desktopNotificationsSectionContent}\n            />\n            <div className='ChannelNotificationModal__divider'/>\n            <ModalSection\n                title={formatMessage({\n                    id: 'channel_notifications.mobileNotificationsTitle',\n                    defaultMessage: 'Mobile Notifications',\n                })}\n                titleSuffix={\n                    <ResetToDefaultButton\n                        sectionName={SectionName.Mobile}\n                        userNotifyProps={props.currentUser.notify_props}\n                        userSelectedChannelNotifyProps={settings}\n                        onClick={handleResetToDefaultClicked}\n                    />\n                }\n                description={formatMessage({\n                    id: 'channel_notifications.mobileNotificationsDesc',\n                    defaultMessage: 'Notification alerts are pushed to your mobile device when there is activity in Mattermost.',\n                })}\n                content={mobileNotificationsSectionContent}\n            />\n        </>\n    ) : (\n        <AlertBanner\n            id='channelNotificationsMutedBanner'\n            mode='info'\n            variant='app'\n            customIcon={\n                <BellOffOutlineIcon\n                    size={24}\n                    color={'currentColor'}\n                />\n            }\n            title={\n                <FormattedMessage\n                    id='channel_notifications.alertBanner.title'\n                    defaultMessage='This channel is muted'\n                />\n            }\n            message={\n                <FormattedMessage\n                    id='channel_notifications.alertBanner.description'\n                    defaultMessage='All other notification preferences for this channel are disabled'\n                />\n            }\n        />\n    );\n\n    const footerContent = (\n        <footer className='ChannelNotificationModal__footer'>\n            {serverError &&\n            <span\n                role='alert'\n                className='ChannelNotificationModal__server-error'\n            >\n                {serverError}\n            </span>\n            }\n            <button\n                className='btn btn-tertiary btn-md'\n                onClick={handleHide}\n            >\n                <FormattedMessage\n                    id='generic_btn.cancel'\n                    defaultMessage='Cancel'\n                />\n            </button>\n            <button\n                className='btn btn-primary btn-md'\n                onClick={handleSave}\n            >\n                <FormattedMessage\n                    id='generic_btn.save'\n                    defaultMessage='Save'\n                />\n            </button>\n        </footer>\n    );\n\n    const headerText = (\n        <ModalHeader\n            id={'channelNotificationModalLabel'}\n            title={formatMessage({\n                id: 'channel_notifications.preferences',\n                defaultMessage: 'Notification Preferences',\n            })}\n            subtitle={props.channel.display_name}\n        />\n    );\n\n    return (\n        <GenericModal\n            id='channelNotificationModal'\n            className='a11y__modal ChannelNotificationModal modal--overflow'\n            show={show}\n            onHide={handleHide}\n            onExited={handleExited}\n            ariaLabel='channelNotificationModalLabel'\n            compassDesign={true}\n            footerContent={footerContent}\n            modalHeaderText={headerText}\n            bodyPadding={false}\n            footerDivider={true}\n        >\n\n            <main className='ChannelNotificationModal__body'>\n                <fieldset aria-labelledby='ChannelNotificationModal-legend'>\n                    <ModalSection\n                        title={\n                            <legend\n                                style={{all: 'unset'}}\n                                id='ChannelNotificationModal-legend'\n                            >\n                                {formatMessage({\n                                    id: 'channel_notifications.muteAndIgnore',\n                                    defaultMessage: 'Mute or ignore',\n                                })}\n                            </legend>\n                        }\n                        content={muteOrIgnoreSectionContent}\n                    />\n                </fieldset>\n                {desktopAndMobileNotificationSectionContent}\n                {props.collapsedReplyThreads &&\n                    <>\n                        <div className='ChannelNotificationModal__divider'/>\n                        <ModalSection\n                            title={formatMessage({\n                                id: 'channel_notifications.autoFollowThreadsTitle',\n                                defaultMessage: 'Follow all threads in this channel',\n                            })}\n                            description={formatMessage({\n                                id: 'channel_notifications.autoFollowThreadsDesc',\n                                defaultMessage: 'When enabled, all new replies in this channel will be automatically followed and will appear in your Threads view.',\n                            })}\n                            content={autoFollowThreadsSectionContent}\n                        />\n                    </>\n                }\n            </main>\n        </GenericModal>\n    );\n}\n\nfunction getStateFromNotifyProps(\n    currentUserNotifyProps: UserNotifyProps,\n    channelMemberNotifyProps?: ChannelMembership['notify_props'],\n): Required<Omit<ChannelMembership['notify_props'], 'email'>> {\n    return {\n        mark_unread: channelMemberNotifyProps?.mark_unread ?? NotificationLevels.ALL,\n        ignore_channel_mentions: getInitialValuesOfIgnoreChannelMentions(\n            channelMemberNotifyProps?.mark_unread,\n            channelMemberNotifyProps?.ignore_channel_mentions,\n            currentUserNotifyProps?.channel,\n        ),\n        desktop: getInitialValuesOfChannelNotifyProps<ChannelMembership['notify_props']['desktop']>(\n            NotificationLevels.ALL,\n            channelMemberNotifyProps?.desktop,\n            currentUserNotifyProps?.desktop,\n        ),\n        desktop_threads: getInitialValuesOfChannelNotifyProps<ChannelMembership['notify_props']['desktop_threads']>(\n            NotificationLevels.ALL,\n            channelMemberNotifyProps?.desktop_threads,\n            currentUserNotifyProps?.desktop_threads,\n        ),\n        desktop_sound: getInitialValuesOfChannelNotifyProps<ChannelMembership['notify_props']['desktop_sound']>(\n            DesktopSound.ON,\n            channelMemberNotifyProps?.desktop_sound,\n            convertDesktopSoundNotifyPropFromUserToDesktop(currentUserNotifyProps?.desktop_sound),\n        ),\n        desktop_notification_sound: getInitialValuesOfChannelNotifyProps<ChannelMembership['notify_props']['desktop_notification_sound']>(\n            DesktopNotificationSounds.BING,\n            channelMemberNotifyProps?.desktop_notification_sound,\n            currentUserNotifyProps?.desktop_notification_sound,\n        ),\n        push: getInitialValuesOfChannelNotifyProps<ChannelMembership['notify_props']['push']>(\n            NotificationLevels.ALL,\n            channelMemberNotifyProps?.push,\n            currentUserNotifyProps?.push,\n        ),\n        push_threads: getInitialValuesOfChannelNotifyProps<ChannelMembership['notify_props']['push_threads']>(\n            NotificationLevels.ALL,\n            channelMemberNotifyProps?.push_threads,\n            currentUserNotifyProps?.push_threads,\n        ),\n        channel_auto_follow_threads: channelMemberNotifyProps?.channel_auto_follow_threads ?? 'off',\n    };\n}\n\nexport function getInitialValuesOfChannelNotifyProps<KeyInNotifyProps>(\n    defaultValue: NonNullable<KeyInNotifyProps>,\n    channelMemberNotifyProp: KeyInNotifyProps | undefined = undefined,\n    userNotifyProp: KeyInNotifyProps | undefined = undefined,\n) {\n    let value = defaultValue;\n\n    // Check if channel_member's notify_prop is defined for the selected notify_prop\n    if (channelMemberNotifyProp) {\n        // If channel_member's notify_prop is default and user's notify_prop is defined, we should use user's notify_prop\n        if (channelMemberNotifyProp === NotificationLevels.DEFAULT && userNotifyProp) {\n            value = userNotifyProp;\n        } else {\n            // Otherwise, we should use channel_member's notify_prop as is\n            value = channelMemberNotifyProp;\n        }\n    } else if (userNotifyProp) {\n        // If channel_member's notify_prop is not defined and user's notify_prop is defined, we should use user's notify_prop as is\n        value = userNotifyProp;\n    }\n\n    return value;\n}\n\nexport function getInitialValuesOfIgnoreChannelMentions(\n    markUnread: ChannelMembership['notify_props']['mark_unread'],\n    ignoreChannelMentions: ChannelMembership['notify_props']['ignore_channel_mentions'],\n    userNotifyPropForChannel: UserNotifyProps['channel'],\n): NonNullable<ChannelMembership['notify_props']['ignore_channel_mentions']> {\n    let ignoreChannelMentionsDefault: ChannelNotifyProps['ignore_channel_mentions'] = IgnoreChannelMentions.OFF;\n    if (\n        markUnread === NotificationLevels.MENTION ||\n        (userNotifyPropForChannel && userNotifyPropForChannel === 'false')\n    ) {\n        ignoreChannelMentionsDefault = IgnoreChannelMentions.ON;\n    }\n\n    if (ignoreChannelMentions) {\n        if (ignoreChannelMentions === IgnoreChannelMentions.DEFAULT) {\n            return ignoreChannelMentionsDefault;\n        }\n        return ignoreChannelMentions;\n    }\n\n    return ignoreChannelMentionsDefault;\n}\n\nexport function createChannelNotifyPropsFromSelectedSettings(\n    userNotifyProps: UserNotifyProps,\n    savedChannelNotifyProps: ChannelMembership['notify_props'],\n    desktopAndMobileSettingsDifferent: boolean,\n) {\n    const channelNotifyProps: ChannelMembership['notify_props'] = {\n        mark_unread: savedChannelNotifyProps.mark_unread,\n        ignore_channel_mentions: savedChannelNotifyProps.ignore_channel_mentions,\n        channel_auto_follow_threads: savedChannelNotifyProps.channel_auto_follow_threads,\n    };\n\n    if (savedChannelNotifyProps.desktop === userNotifyProps.desktop) {\n        channelNotifyProps.desktop = NotificationLevels.DEFAULT;\n    } else {\n        channelNotifyProps.desktop = savedChannelNotifyProps.desktop;\n    }\n\n    // Check if USER's desktop_thread setting are defined\n    if (userNotifyProps?.desktop_threads?.length) {\n        // If USER's desktop_thread setting is same as CHANNEL's new desktop_threads setting, we should set it to default\n        if (userNotifyProps.desktop_threads === savedChannelNotifyProps.desktop_threads) {\n            channelNotifyProps.desktop_threads = NotificationLevels.DEFAULT;\n        } else {\n            // Otherwise, we should use the CHANNEL's new desktop_threads setting as is\n            channelNotifyProps.desktop_threads = savedChannelNotifyProps.desktop_threads;\n        }\n    } else if (savedChannelNotifyProps.desktop_threads === NotificationLevels.MENTION || savedChannelNotifyProps.desktop_threads === NotificationLevels.DEFAULT) {\n        // If USER's desktop_thread setting is not defined and CHANNEL's new desktop_threads setting is MENTION or DEFAULT, then save it as default\n        channelNotifyProps.desktop_threads = NotificationLevels.DEFAULT;\n    } else {\n        // Otherwise, we should use the CHANNEL's new desktop_threads setting as is\n        channelNotifyProps.desktop_threads = savedChannelNotifyProps.desktop_threads;\n    }\n\n    if (convertDesktopSoundNotifyPropFromUserToDesktop(userNotifyProps?.desktop_sound) === savedChannelNotifyProps.desktop_sound) {\n        channelNotifyProps.desktop_sound = DesktopSound.DEFAULT;\n    } else {\n        channelNotifyProps.desktop_sound = savedChannelNotifyProps.desktop_sound;\n    }\n\n    // Check if USER's desktop_notification_sound setting is defined\n    if (userNotifyProps?.desktop_notification_sound?.length) {\n        // If USER's desktop_notification_sound setting is same as CHANNEL's new desktop_notification_sound setting, we should set it to default\n        if (userNotifyProps.desktop_notification_sound === savedChannelNotifyProps.desktop_notification_sound) {\n            channelNotifyProps.desktop_notification_sound = DesktopNotificationSounds.DEFAULT;\n        } else {\n            // Otherwise, we should use the CHANNEL's new desktop_notification_sound setting as is\n            channelNotifyProps.desktop_notification_sound = savedChannelNotifyProps.desktop_notification_sound;\n        }\n    } else if (\n        savedChannelNotifyProps.desktop_notification_sound === DesktopNotificationSounds.BING ||\n        savedChannelNotifyProps.desktop_notification_sound === DesktopNotificationSounds.DEFAULT\n    ) {\n        channelNotifyProps.desktop_notification_sound = DesktopNotificationSounds.DEFAULT;\n    } else {\n        // Otherwise, we should use the CHANNEL's new desktop_notification_sound setting as is\n        channelNotifyProps.desktop_notification_sound = savedChannelNotifyProps.desktop_notification_sound;\n    }\n\n    if (savedChannelNotifyProps.push === userNotifyProps.push) {\n        channelNotifyProps.push = NotificationLevels.DEFAULT;\n    } else {\n        channelNotifyProps.push = savedChannelNotifyProps.push;\n    }\n\n    // Check if USER's push_threads setting are defined\n    if (userNotifyProps?.push_threads?.length) {\n        // If USER's push_threads setting is same as CHANNEL's new push_threads setting, we should set it to default\n        if (userNotifyProps.push_threads === savedChannelNotifyProps.push_threads) {\n            channelNotifyProps.push_threads = NotificationLevels.DEFAULT;\n        } else {\n            // Otherwise, we should use the CHANNEL's new push_threads setting as is\n            channelNotifyProps.push_threads = savedChannelNotifyProps.push_threads;\n        }\n    } else if (savedChannelNotifyProps.push_threads === NotificationLevels.MENTION || savedChannelNotifyProps.push_threads === NotificationLevels.DEFAULT) {\n        // If USER's push_threads setting is not defined and CHANNEL's new push_threads setting is MENTION or DEFAULT, then save it as default\n        channelNotifyProps.push_threads = NotificationLevels.DEFAULT;\n    } else {\n        // Otherwise, we should use the CHANNEL's new push_threads setting as is\n        channelNotifyProps.push_threads = savedChannelNotifyProps.push_threads;\n    }\n\n    // If desktop and mobile settings are checked to be same, then same settings should be applied to push and push_threads\n    // as that of desktop and desktop_threads\n    if (desktopAndMobileSettingsDifferent === false) {\n        // If desktop is set to default, it means it is synced to the user's notification settings.\n        // Since we checked the box to use the same settings for mobile, we need to set channel's mobile to match channel's desktop.\n        // Setting mobile to default would sync it to the user's notification settings, which we want to avoid.\n        if (channelNotifyProps.desktop === NotificationLevels.DEFAULT) {\n            channelNotifyProps.push = userNotifyProps.desktop;\n        } else {\n            // Otherwise, we should use the CHANNEL's desktop setting as is to match mobile settings\n            channelNotifyProps.push = channelNotifyProps.desktop;\n        }\n\n        if (channelNotifyProps.desktop_threads === NotificationLevels.DEFAULT) {\n            channelNotifyProps.push_threads = userNotifyProps.desktop_threads;\n        } else {\n            channelNotifyProps.push_threads = channelNotifyProps.desktop_threads;\n        }\n    }\n\n    return channelNotifyProps;\n}\n\n/**\n * Check's if channel's notification settings for desktop and mobile are different\n */\nexport function areDesktopAndMobileSettingsDifferent(\n    isCollapsedThreadsEnabled: boolean,\n    desktop: UserNotifyProps['desktop'],\n    desktopThreads: UserNotifyProps['desktop_threads'],\n    push?: UserNotifyProps['push'],\n    pushThreads?: UserNotifyProps['push_threads'],\n): boolean {\n    if (push === NotificationLevels.DEFAULT || push === desktop) {\n        return isCollapsedThreadsEnabled && desktopThreads !== pushThreads;\n    }\n    return true;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport type {ConnectedProps} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport type {Dispatch} from 'redux';\n\nimport {updateChannelNotifyProps} from 'mattermost-redux/actions/channels';\nimport {getMyCurrentChannelMembership} from 'mattermost-redux/selectors/entities/channels';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {\n    isCollapsedThreadsEnabled,\n} from 'mattermost-redux/selectors/entities/preferences';\n\nimport type {GlobalState} from 'types/store/index';\n\nimport ChannelNotificationsModal from './channel_notifications_modal';\n\nconst mapStateToProps = (state: GlobalState) => ({\n    collapsedReplyThreads: isCollapsedThreadsEnabled(state),\n    channelMember: getMyCurrentChannelMembership(state),\n    sendPushNotifications: getConfig(state).SendPushNotifications === 'true',\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n    actions: bindActionCreators({\n        updateChannelNotifyProps,\n    }, dispatch),\n});\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\nexport type PropsFromRedux = ConnectedProps<typeof connector>\n\nexport default connector(ChannelNotificationsModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport classNames from 'classnames';\nimport React, {useCallback, useState} from 'react';\nimport {FormattedMessage, useIntl} from 'react-intl';\nimport {useDispatch, useSelector} from 'react-redux';\n\nimport {GenericModal} from '@mattermost/components';\nimport type {Board} from '@mattermost/types/boards';\nimport type {ChannelType, Channel} from '@mattermost/types/channels';\nimport type {ServerError} from '@mattermost/types/errors';\n\nimport {setNewChannelWithBoardPreference} from 'mattermost-redux/actions/boards';\nimport {createChannel} from 'mattermost-redux/actions/channels';\nimport Permissions from 'mattermost-redux/constants/permissions';\nimport Preferences from 'mattermost-redux/constants/preferences';\nimport {get as getPreference} from 'mattermost-redux/selectors/entities/preferences';\nimport {haveICurrentChannelPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {switchToChannel} from 'actions/views/channel';\nimport {closeModal} from 'actions/views/modals';\n\nimport ChannelNameFormField from 'components/channel_name_form_field/channel_name_form_field';\nimport PublicPrivateSelector from 'components/widgets/public-private-selector/public-private-selector';\nimport WithTooltip from 'components/with_tooltip';\n\nimport Pluggable from 'plugins/pluggable';\nimport Constants, {ModalIdentifiers} from 'utils/constants';\n\nimport type {GlobalState} from 'types/store';\n\nimport './new_channel_modal.scss';\n\nexport function getChannelTypeFromPermissions(canCreatePublicChannel: boolean, canCreatePrivateChannel: boolean) {\n    let channelType = Constants.OPEN_CHANNEL;\n\n    if (!canCreatePublicChannel && channelType === Constants.OPEN_CHANNEL) {\n        channelType = Constants.PRIVATE_CHANNEL as ChannelType;\n    }\n\n    if (!canCreatePrivateChannel && channelType === Constants.PRIVATE_CHANNEL) {\n        channelType = Constants.OPEN_CHANNEL as ChannelType;\n    }\n\n    return channelType as ChannelType;\n}\n\nconst enum ServerErrorId {\n    CHANNEL_URL_SIZE = 'model.channel.is_valid.1_or_more.app_error',\n    CHANNEL_UPDATE_EXISTS = 'store.sql_channel.update.exists.app_error',\n    CHANNEL_CREATE_EXISTS = 'store.sql_channel.save_channel.exists.app_error',\n    CHANNEL_PURPOSE_SIZE = 'model.channel.is_valid.purpose.app_error',\n}\n\nconst NewChannelModal = () => {\n    const intl = useIntl();\n    const {formatMessage} = intl;\n\n    const currentTeamId = useSelector(getCurrentTeam)?.id;\n\n    const canCreatePublicChannel = useSelector((state: GlobalState) => (currentTeamId ? haveICurrentChannelPermission(state, Permissions.CREATE_PUBLIC_CHANNEL) : false));\n    const canCreatePrivateChannel = useSelector((state: GlobalState) => (currentTeamId ? haveICurrentChannelPermission(state, Permissions.CREATE_PRIVATE_CHANNEL) : false));\n    const dispatch = useDispatch();\n\n    const [type, setType] = useState(getChannelTypeFromPermissions(canCreatePublicChannel, canCreatePrivateChannel));\n    const [displayName, setDisplayName] = useState('');\n    const [url, setURL] = useState('');\n    const [purpose, setPurpose] = useState('');\n    const [urlError, setURLError] = useState('');\n    const [purposeError, setPurposeError] = useState('');\n    const [serverError, setServerError] = useState('');\n    const [channelInputError, setChannelInputError] = useState(false);\n\n    // create a board along with the channel\n    const createBoardFromChannelPlugin = useSelector((state: GlobalState) => state.plugins.components.CreateBoardFromTemplate);\n    const newChannelWithBoardPulsatingDotState = useSelector((state: GlobalState) => getPreference(state, Preferences.APP_BAR, Preferences.NEW_CHANNEL_WITH_BOARD_TOUR_SHOWED, ''));\n\n    const [canCreateFromPluggable, setCanCreateFromPluggable] = useState(true);\n    const [actionFromPluggable, setActionFromPluggable] = useState<((currentTeamId: string, channelId: string) => Promise<Board>) | undefined>(undefined);\n\n    const handleURLChange = useCallback((newURL: string) => {\n        setURL(newURL);\n        setURLError('');\n    }, []);\n\n    const handleOnModalConfirm = async () => {\n        if (!canCreate || !currentTeamId) {\n            return;\n        }\n\n        const channel: Channel = {\n            team_id: currentTeamId,\n            name: url,\n            display_name: displayName,\n            purpose,\n            header: '',\n            type,\n            create_at: 0,\n            creator_id: '',\n            delete_at: 0,\n            group_constrained: false,\n            id: '',\n            last_post_at: 0,\n            last_root_post_at: 0,\n            scheme_id: '',\n            update_at: 0,\n        };\n\n        try {\n            const {data: newChannel, error} = await dispatch(createChannel(channel, ''));\n            if (error) {\n                onCreateChannelError(error);\n                return;\n            }\n\n            handleOnModalCancel();\n\n            // If template selected, create a new board from this template\n            if (canCreateFromPluggable && createBoardFromChannelPlugin) {\n                try {\n                    addBoardToChannel(newChannel!.id);\n                } catch (e: any) {\n                    // eslint-disable-next-line no-console\n                    console.log(e.message);\n                }\n            }\n            dispatch(switchToChannel(newChannel!));\n        } catch (e) {\n            onCreateChannelError({message: formatMessage({id: 'channel_modal.error.generic', defaultMessage: 'Something went wrong. Please try again.'})});\n        }\n    };\n\n    const addBoardToChannel = async (channelId: string) => {\n        if (!createBoardFromChannelPlugin || !currentTeamId) {\n            return false;\n        }\n        if (!actionFromPluggable) {\n            return false;\n        }\n\n        const action = actionFromPluggable as (currentTeamId: string, channelId: string) => Promise<Board>;\n        if (action && canCreateFromPluggable) {\n            const board = await action(channelId, currentTeamId);\n\n            if (!board?.id) {\n                return false;\n            }\n        }\n\n        // show the new channel with board tour tip\n        if (newChannelWithBoardPulsatingDotState === '') {\n            dispatch(setNewChannelWithBoardPreference({[Preferences.NEW_CHANNEL_WITH_BOARD_TOUR_SHOWED]: false}));\n        }\n        return true;\n    };\n\n    const handleOnModalCancel = () => {\n        dispatch(closeModal(ModalIdentifiers.NEW_CHANNEL_MODAL));\n    };\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    const onCreateChannelError = ({server_error_id, message}: ServerError) => {\n        switch (server_error_id) {\n        case ServerErrorId.CHANNEL_URL_SIZE:\n            setURLError(\n                formatMessage({\n                    id: 'channel_modal.handleTooShort',\n                    defaultMessage: 'Channel URL must be 1 or more lowercase alphanumeric characters',\n                }),\n            );\n            break;\n\n        case ServerErrorId.CHANNEL_UPDATE_EXISTS:\n        case ServerErrorId.CHANNEL_CREATE_EXISTS:\n            setURLError(\n                formatMessage({\n                    id: 'channel_modal.alreadyExist',\n                    defaultMessage: 'A channel with that URL already exists',\n                }),\n            );\n            break;\n\n        case ServerErrorId.CHANNEL_PURPOSE_SIZE:\n            setPurposeError(\n                formatMessage({\n                    id: 'channel_modal.purposeTooLong',\n                    defaultMessage: 'The purpose exceeds the maximum of 250 characters',\n                }),\n            );\n            break;\n\n        default:\n            setServerError(message);\n            break;\n        }\n    };\n\n    const handleOnTypeChange = useCallback((channelType: ChannelType) => {\n        setType(channelType);\n        setServerError('');\n    }, []);\n\n    const handleOnPurposeChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n        e.preventDefault();\n        const {target: {value: purpose}} = e;\n\n        setPurpose(purpose);\n        setPurposeError('');\n        setServerError('');\n    };\n\n    const handleOnPurposeKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n        // Avoid firing the handleEnterKeyPress in GenericModal from purpose textarea\n        e.stopPropagation();\n    };\n\n    const canCreate = displayName && !urlError && type && !purposeError && !serverError && canCreateFromPluggable && !channelInputError;\n\n    const newBoardInfoIcon = (\n        <WithTooltip\n            title={\n                <>\n                    <div className='title'>\n                        <FormattedMessage\n                            id={'channel_modal.create_board.tooltip_title'}\n                            defaultMessage={'Manage your task with a board'}\n                        />\n                    </div>\n                    <div className='description'>\n                        <FormattedMessage\n                            id={'channel_modal.create_board.tooltip_description'}\n                            defaultMessage={'Use any of our templates to manage your tasks or start from scratch with your own!'}\n                        />\n                    </div>\n                </>\n            }\n        >\n            <i className='icon-information-outline'/>\n        </WithTooltip>\n    );\n\n    return (\n        <GenericModal\n            id='new-channel-modal'\n            className='new-channel-modal'\n            modalHeaderText={formatMessage({id: 'channel_modal.modalTitle', defaultMessage: 'Create a new channel'})}\n            confirmButtonText={formatMessage({id: 'channel_modal.createNew', defaultMessage: 'Create channel'})}\n            cancelButtonText={formatMessage({id: 'channel_modal.cancel', defaultMessage: 'Cancel'})}\n            errorText={serverError}\n            isConfirmDisabled={!canCreate}\n            autoCloseOnConfirmButton={false}\n            compassDesign={true}\n            handleConfirm={handleOnModalConfirm}\n            handleEnterKeyPress={handleOnModalConfirm}\n            handleCancel={handleOnModalCancel}\n            onExited={handleOnModalCancel}\n        >\n            <div className='new-channel-modal-body'>\n                <ChannelNameFormField\n                    value={displayName}\n                    name='new-channel-modal-name'\n                    placeholder={formatMessage({id: 'channel_modal.name.placeholder', defaultMessage: 'Enter a name for your new channel'})}\n                    onDisplayNameChange={setDisplayName}\n                    onURLChange={handleURLChange}\n                    onErrorStateChange={setChannelInputError}\n                    urlError={urlError}\n                />\n                <PublicPrivateSelector\n                    className='new-channel-modal-type-selector'\n                    selected={type}\n                    publicButtonProps={{\n                        title: formatMessage({id: 'channel_modal.type.public.title', defaultMessage: 'Public Channel'}),\n                        description: formatMessage({id: 'channel_modal.type.public.description', defaultMessage: 'Anyone can join'}),\n                        disabled: !canCreatePublicChannel,\n                    }}\n                    privateButtonProps={{\n                        title: formatMessage({id: 'channel_modal.type.private.title', defaultMessage: 'Private Channel'}),\n                        description: formatMessage({id: 'channel_modal.type.private.description', defaultMessage: 'Only invited members'}),\n                        disabled: !canCreatePrivateChannel,\n                    }}\n                    onChange={handleOnTypeChange}\n                />\n                <div className='new-channel-modal-purpose-container'>\n                    <textarea\n                        id='new-channel-modal-purpose'\n                        className={classNames('new-channel-modal-purpose-textarea', {'with-error': purposeError})}\n                        placeholder={formatMessage({id: 'channel_modal.purpose.placeholder', defaultMessage: 'Enter a purpose for this channel (optional)'})}\n                        rows={4}\n                        maxLength={Constants.MAX_CHANNELPURPOSE_LENGTH}\n                        autoComplete='off'\n                        value={purpose}\n                        onChange={handleOnPurposeChange}\n                        onKeyDown={handleOnPurposeKeyDown}\n                    />\n                    {purposeError ? (\n                        <div className='new-channel-modal-purpose-error'>\n                            <i className='icon icon-alert-outline'/>\n                            <span>{purposeError}</span>\n                        </div>\n                    ) : (\n                        <div className='new-channel-modal-purpose-info'>\n                            <span>\n                                {formatMessage({id: 'channel_modal.purpose.info', defaultMessage: 'This will be displayed when browsing for channels.'})}\n                            </span>\n                        </div>\n                    )}\n                    {createBoardFromChannelPlugin &&\n                        <Pluggable\n                            pluggableName='CreateBoardFromTemplate'\n                            setCanCreate={setCanCreateFromPluggable}\n                            setAction={setActionFromPluggable}\n                            newBoardInfoIcon={newBoardInfoIcon}\n                        />\n                    }\n                </div>\n            </div>\n        </GenericModal>\n    );\n};\n\nexport default NewChannelModal;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport classNames from 'classnames';\nimport type {MouseEventHandler, RefObject} from 'react';\nimport React, {useEffect, useRef, useState} from 'react';\nimport {useSelector} from 'react-redux';\nimport styled, {createGlobalStyle, css} from 'styled-components';\n\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport {getIsMobileView} from 'selectors/views/browser';\nimport {useGlobalState} from 'stores/hooks';\n\nimport type {CssVarKeyForResizable} from './constants';\nimport {ResizeDirection} from './constants';\nimport {isSizeLessThanSnapSize, isSnapableSpeed, shouldSnapWhenSizeGrown, shouldSnapWhenSizeShrunk} from './utils';\n\ntype Props = {\n    id?: string;\n    className?: string;\n    name: string;\n    disabled?: boolean;\n    defaultWidth: number;\n    globalCssVar: CssVarKeyForResizable;\n    dir: ResizeDirection;\n    containerRef: RefObject<HTMLElement>;\n    onResizeStart?: (startWidth: number) => void;\n    onResize?: (width: number, cssVarProperty: string, cssVarValue: string) => void;\n    onResizeEnd?: (finalWidth: number, cssVarProperty: string, cssVarValue: string) => void;\n    onDividerDoubleClick?: (prevWidth: number, cssVarProperty: string) => void;\n}\n\nconst Divider = styled.div<{isActive: boolean}>`\n    position: absolute;\n    z-index: 50;\n    top: 0;\n    width: 12px;\n    height: 100%;\n    cursor: col-resize;\n    &.left {\n        right: -12px;\n    }\n\n    &::after {\n        position: absolute;\n        width: 4px;\n        height: 100%;\n        background-color: ${({isActive}) => (isActive ? 'var(--sidebar-text-active-border)' : 'transparent')};\n        content: '';\n    }\n    &:hover {\n        &::after {\n            background-color: var(--sidebar-text-active-border);\n            transition: background-color 400ms step-end;\n        }\n    }\n    &.snapped {\n        &::after {\n            animation: emphasis-sidebar-resize-line 800ms;\n        }\n    }\n`;\n\nconst ResizableDividerGlobalStyle = createGlobalStyle<{active: boolean; varName: CssVarKeyForResizable; width: number | null}>`\n    ${({active}) => active && css`\n        body {\n            cursor: col-resize;\n            user-select: none;\n        }\n    `}\n    ${({varName, width}) => width && css`\n        :root {\n            --${varName}: ${width}px;\n        }\n    `}\n`;\n\nfunction ResizableDivider({\n    id,\n    name,\n    className,\n    disabled,\n    dir,\n    containerRef,\n    defaultWidth,\n    onResize,\n    onResizeStart,\n    onResizeEnd,\n    onDividerDoubleClick,\n    ...props\n}: Props) {\n    const resizeLineRef = useRef<HTMLDivElement>(null);\n\n    const startWidth = useRef(0);\n    const lastWidth = useRef<number | null>(null);\n\n    const previousClientX = useRef(0);\n\n    const cssVarKey = `--${props.globalCssVar}`;\n\n    const currentUserID = useSelector(getCurrentUserId);\n    const isMobileView = useSelector(getIsMobileView);\n\n    const [isActive, setIsActive] = useState(false);\n    const [width, setWidth] = useGlobalState<number | null>(null, `resizable_${name}:`, currentUserID);\n\n    const defaultOnResizeChange = (width: number, cssVarProp: string, cssVarValue: string) => {\n        containerRef.current?.style.setProperty(cssVarProp, cssVarValue);\n        lastWidth.current = width;\n    };\n\n    const handleOnResize = (width: number, cssVarProp: string, cssVarValue: string) => {\n        if (onResize) {\n            onResize(width, cssVarProp, cssVarValue);\n        }\n\n        defaultOnResizeChange(width, cssVarProp, cssVarValue);\n    };\n\n    const reset = () => {\n        startWidth.current = 0;\n        previousClientX.current = 0;\n        lastWidth.current = null;\n    };\n\n    const onMouseDown: MouseEventHandler<HTMLDivElement> = (e) => {\n        if (disabled || !containerRef.current) {\n            return;\n        }\n        previousClientX.current = e.clientX;\n        startWidth.current = containerRef.current.getBoundingClientRect().width;\n\n        setIsActive(true);\n\n        if (onResizeStart) {\n            onResizeStart(startWidth.current);\n        }\n\n        handleOnResize(startWidth.current, cssVarKey, `${startWidth.current}px`);\n\n        document.body.classList.add('layout-changing');\n    };\n\n    useEffect(() => {\n        if (!isActive || disabled) {\n            reset();\n            return undefined;\n        }\n        const onMouseMove = (e: MouseEvent) => {\n            const resizeLine = resizeLineRef.current;\n\n            if (!isActive) {\n                return;\n            }\n\n            if (!resizeLine) {\n                return;\n            }\n\n            e.preventDefault();\n\n            const previousWidth = lastWidth.current ?? 0;\n            let widthDiff = 0;\n\n            switch (dir) {\n            case ResizeDirection.LEFT:\n                widthDiff = e.clientX - previousClientX.current;\n                break;\n            case ResizeDirection.RIGHT:\n                widthDiff = previousClientX.current - e.clientX;\n                break;\n            }\n\n            const newWidth = previousWidth + widthDiff;\n\n            if (resizeLine.classList.contains('snapped')) {\n                const diff = newWidth - defaultWidth;\n\n                if (isSizeLessThanSnapSize(diff)) {\n                    return;\n                }\n\n                handleOnResize(newWidth, cssVarKey, `${newWidth}px`);\n\n                resizeLine.classList.remove('snapped');\n                previousClientX.current = e.clientX;\n\n                return;\n            }\n\n            previousClientX.current = e.clientX;\n\n            const shouldSnap = shouldSnapWhenSizeGrown(newWidth, previousWidth, defaultWidth) || shouldSnapWhenSizeShrunk(newWidth, previousWidth, defaultWidth);\n\n            if (isSnapableSpeed(newWidth - previousWidth) && shouldSnap) {\n                switch (dir) {\n                case ResizeDirection.LEFT:\n                    previousClientX.current += defaultWidth - newWidth;\n                    break;\n                case ResizeDirection.RIGHT:\n                    previousClientX.current += newWidth - defaultWidth;\n                    break;\n                }\n\n                handleOnResize(defaultWidth, cssVarKey, `${defaultWidth}px`);\n\n                resizeLine.classList.add('snapped');\n                return;\n            }\n\n            handleOnResize(newWidth, cssVarKey, `${newWidth}px`);\n        };\n\n        const onMouseUp = () => {\n            const finalWidth = containerRef.current?.getBoundingClientRect().width;\n            if (isActive && finalWidth) {\n                setWidth(finalWidth);\n                onResizeEnd?.(finalWidth, cssVarKey, `${finalWidth}px`);\n            }\n\n            containerRef.current?.style.removeProperty(cssVarKey);\n            document.body.classList.remove('layout-changing');\n            reset();\n            setIsActive(false);\n        };\n\n        window.addEventListener('mousemove', onMouseMove);\n        window.addEventListener('mouseup', onMouseUp);\n\n        return () => {\n            window.removeEventListener('mousemove', onMouseMove);\n            window.removeEventListener('mouseup', onMouseUp);\n        };\n    }, [isActive, disabled]);\n\n    const onDoubleClick = () => {\n        onDividerDoubleClick?.(width ?? 0, cssVarKey);\n        reset();\n        setWidth(null);\n    };\n\n    if (disabled || isMobileView) {\n        return null;\n    }\n\n    return (\n        <>\n            <Divider\n                id={id}\n                className={classNames(className, {\n                    left: dir === ResizeDirection.LEFT,\n                    right: dir === ResizeDirection.RIGHT,\n                })}\n                ref={resizeLineRef}\n                isActive={isActive}\n                onMouseDown={onMouseDown}\n                onDoubleClick={onDoubleClick}\n            />\n            <ResizableDividerGlobalStyle\n                varName={props.globalCssVar}\n                width={width}\n                active={isActive}\n            />\n        </>\n\n    );\n}\n\nexport default ResizableDivider;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {SidebarSize, SIDEBAR_SNAP_SIZE, SIDEBAR_SNAP_SPEED_LIMIT} from './constants';\n\nexport const isSizeLessThanSnapSize = (size: number) => {\n    return Math.abs(size) <= SIDEBAR_SNAP_SIZE;\n};\n\nexport const isSnapableSpeed = (speed: number) => {\n    return Math.abs(speed) <= SIDEBAR_SNAP_SPEED_LIMIT;\n};\n\nexport const shouldSnapWhenSizeGrown = (newWidth: number, prevWidth: number, defaultWidth: number) => {\n    const diff = defaultWidth - newWidth;\n    const isGrowing = newWidth > prevWidth;\n\n    return diff >= 0 && diff <= SIDEBAR_SNAP_SIZE && isGrowing;\n};\n\nexport const shouldSnapWhenSizeShrunk = (newWidth: number, prevWidth: number, defaultWidth: number) => {\n    const diff = newWidth - defaultWidth;\n    const isShrinking = newWidth < prevWidth;\n\n    return diff >= 0 && diff <= SIDEBAR_SNAP_SIZE && isShrinking;\n};\n\nexport const shouldRhsOverlapChannelView = (size: SidebarSize) => size === SidebarSize.MEDIUM;\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport classNames from 'classnames';\nimport type {PrimitiveType, FormatXMLElementFn} from 'intl-messageformat';\nimport React from 'react';\nimport type {MessageDescriptor} from 'react-intl';\nimport {useIntl} from 'react-intl';\n\nimport {AlertCircleOutlineIcon} from '@mattermost/compass-icons/components';\n\nimport './base_setting_item.scss';\n\ntype ExtendedMessageDescriptor = MessageDescriptor & {\n    values?: Record<string, PrimitiveType | FormatXMLElementFn<string, string>>;\n};\n\nexport type BaseSettingItemProps = {\n    title?: string;\n    description?: string;\n    error?: ExtendedMessageDescriptor;\n    dataTestId?: string;\n};\n\ntype Props = BaseSettingItemProps & {\n    content: JSX.Element;\n    isContentInline?: boolean;\n    className?: string;\n    descriptionAboveContent?: boolean;\n}\n\nfunction BaseSettingItem({title, description, content, className, error, descriptionAboveContent = false, isContentInline = false, dataTestId}: Props): JSX.Element {\n    const {formatMessage} = useIntl();\n\n    const titleComponent = title && (\n        <h4\n            data-testid='mm-modal-generic-section-item__title'\n            className='mm-modal-generic-section-item__title'\n        >\n            {title}\n        </h4>\n    );\n\n    const descriptionComponent = description && (\n        <p\n            data-testid='mm-modal-generic-section-item__description'\n            className='mm-modal-generic-section-item__description'\n        >\n            {description}\n        </p>\n    );\n\n    const Error = error && (\n        <div\n            data-testid='mm-modal-generic-section-item__error'\n            className='mm-modal-generic-section-item__error'\n        >\n            <AlertCircleOutlineIcon/>\n            {formatMessage({id: error.id, defaultMessage: error.defaultMessage}, error.values)}\n        </div>\n    );\n\n    return (\n        <div\n            data-testid={dataTestId}\n            className={classNames('mm-modal-generic-section-item', className)}\n        >\n            {titleComponent}\n            {descriptionAboveContent ? descriptionComponent : undefined}\n            <div\n                data-testid='mm-modal-generic-section-item__content'\n                className={classNames('mm-modal-generic-section-item__content', {\n                    inline: isContentInline,\n                })}\n            >\n                {content}\n            </div>\n            {descriptionAboveContent ? undefined : descriptionComponent}\n            {Error}\n        </div>\n    );\n}\n\nexport default BaseSettingItem;\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport type {ReactNode} from 'react';\nimport React from 'react';\n\nimport type {BaseSettingItemProps} from './base_setting_item';\nimport BaseSettingItem from './base_setting_item';\n\nexport type FieldsetCheckbox = {\n    dataTestId?: string;\n    name: string;\n}\n\ntype Props = BaseSettingItemProps & {\n    inputFieldData: FieldsetCheckbox;\n    inputFieldValue: boolean;\n\n    /**\n     * The title of the checkbox input field, pass in FormattedMessage component for styling compatibility\n     */\n    inputFieldTitle: ReactNode;\n    handleChange: (e: boolean) => void;\n    className?: string;\n    descriptionAboveContent?: boolean;\n}\n\nexport default function CheckboxSettingItem({\n    title,\n    description,\n    inputFieldData,\n    inputFieldValue,\n    inputFieldTitle,\n    handleChange,\n    className,\n    dataTestId,\n    descriptionAboveContent = false,\n}: Props) {\n    const content = (\n        <div\n            key={inputFieldData.name}\n            className='mm-modal-generic-section-item__fieldset-checkbox-ctr'\n        >\n            <input\n                className='mm-modal-generic-section-item__input-checkbox'\n                data-testid={inputFieldData.dataTestId}\n                type='checkbox'\n                name={inputFieldData.name}\n                id={inputFieldData.name.replaceAll(' ', '-')}\n                checked={inputFieldValue}\n                onChange={(e) => handleChange(e.target.checked)}\n            />\n            <label\n                htmlFor={inputFieldData.name.replaceAll(' ', '-')}\n                className='mm-modal-generic-section-item__fieldset-checkbox'\n            >\n                {inputFieldTitle}\n            </label>\n        </div>\n    );\n\n    return (\n        <BaseSettingItem\n            content={content}\n            title={title}\n            description={description}\n            dataTestId={dataTestId}\n            className={className}\n            descriptionAboveContent={descriptionAboveContent}\n        />\n    );\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport type {ReactNode} from 'react';\n\nimport './modal_section.scss';\n\ntype Props = {\n    title?: ReactNode;\n    description?: ReactNode;\n    content: JSX.Element;\n    titleSuffix?: JSX.Element;\n};\n\nfunction ModalSection({\n    title,\n    description,\n    content,\n    titleSuffix,\n}: Props) {\n    const titleComponent = title && (\n        <h4 className='modalSectionTitle'>\n            {title}\n            {titleSuffix}\n        </h4>\n    );\n\n    const descriptionComponent = description && (\n        <p className='modalSectionDescription'>\n            {description}\n        </p>\n    );\n\n    return (\n        <section className='mm-modal-generic-section'>\n            {(title || description) && (\n                <div className='modalSectionHeader'>\n                    {titleComponent}\n                    {descriptionComponent}\n                </div>\n            )}\n            <div className='modalSectionContent'>\n                {content}\n            </div>\n        </section>\n    );\n}\n\nexport default ModalSection;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {useIntl} from 'react-intl';\n\nexport default function CheckCircleIcon(props: React.HTMLAttributes<HTMLSpanElement>) {\n    const {formatMessage} = useIntl();\n\n    return (\n        <span {...props}>\n            <svg\n                width='22'\n                height='22'\n                viewBox='0 0 22 22'\n                xmlns='http://www.w3.org/2000/svg'\n                aria-label={formatMessage({id: 'generic_icons.check.circle', defaultMessage: 'Check Circle Icon'})}\n            >\n                <path\n                    d='M11 0.992024C9.192 0.992024 7.512 1.44802 5.96 2.36002C4.44 3.24002 3.24 4.44002 2.36 5.96002C1.448 7.51202 0.992 9.19202 0.992 11C0.992 12.808 1.448 14.488 2.36 16.04C3.24 17.56 4.44 18.76 5.96 19.64C7.512 20.552 9.192 21.008 11 21.008C12.808 21.008 14.488 20.552 16.04 19.64C17.56 18.76 18.76 17.56 19.64 16.04C20.552 14.488 21.008 12.808 21.008 11C21.008 9.19202 20.552 7.51202 19.64 5.96002C18.76 4.44002 17.56 3.24002 16.04 2.36002C14.488 1.44802 12.808 0.992024 11 0.992024ZM9.248 15.68L7.832 14.288L5 11.456L6.416 10.04L9.248 12.872L15.608 6.48802L17.024 7.90402L9.248 15.68Z'\n                />\n            </svg>\n        </span>\n    );\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {useIntl} from 'react-intl';\n\nexport default function GlobeCircleSolidIcon(props: React.HTMLAttributes<HTMLSpanElement>) {\n    const {formatMessage} = useIntl();\n\n    return (\n        <span {...props}>\n            <svg\n                width='40'\n                height='40'\n                viewBox='0 0 40 40'\n                xmlns='http://www.w3.org/2000/svg'\n                aria-label={formatMessage({id: 'generic_icons.globe.circleSolid', defaultMessage: 'Globe Circle Solid Icon'})}\n            >\n                <rect\n                    width='40'\n                    height='40'\n                    rx='20'\n                    fillOpacity='0.08'\n                />\n                <path\n                    d='M20 8.31042C17.8304 8.31042 15.8144 8.85762 13.952 9.95202C12.1472 11.0272 10.7072 12.4672 9.632 14.272C8.5376 16.1344 7.9904 18.1504 7.9904 20.32C7.9904 22.4896 8.5376 24.5056 9.632 26.368C10.7072 28.1728 12.1472 29.6128 13.952 30.688C15.8144 31.7824 17.8304 32.3296 20 32.3296C22.1696 32.3296 24.1856 31.7824 26.048 30.688C27.8528 29.6128 29.2928 28.1728 30.368 26.368C31.4624 24.5056 32.0096 22.4896 32.0096 20.32C32.0096 18.1504 31.4624 16.1344 30.368 14.272C29.2928 12.4672 27.8528 11.0272 26.048 9.95202C24.1856 8.85762 22.1696 8.31042 20 8.31042ZM29.5904 20.9248C29.3792 21.2128 28.8896 21.5296 28.1216 21.8752C27.1616 22.2976 26.0576 22.6144 24.8096 22.8256V18.7648C26.5184 18.4576 27.8336 18.0928 28.7552 17.6704C28.7936 17.632 28.8704 17.5936 28.9856 17.5552C29.12 17.5168 29.2064 17.4784 29.2448 17.44C29.4752 18.2656 29.5904 19.2256 29.5904 20.32V20.9248ZM18.2144 25.5904C18.4064 25.5904 18.6944 25.6096 19.0784 25.648C19.4816 25.6864 19.7888 25.7056 20 25.7056C20.8064 25.7056 21.4112 25.6672 21.8144 25.5904C21.5264 26.7424 21.2096 27.7024 20.864 28.4704C20.5568 29.1616 20.2688 29.6032 20 29.7952C19.712 29.584 19.4144 29.1424 19.1072 28.4704C18.7232 27.664 18.4256 26.704 18.2144 25.5904ZM20 23.3152C18.9632 23.3152 18.2048 23.2768 17.7248 23.2C17.7248 22.9312 17.7056 22.5088 17.6672 21.9328C17.6288 21.2416 17.6096 20.704 17.6096 20.32V18.9952C18.1664 19.072 18.9632 19.1104 20 19.1104C21.0368 19.1104 21.8336 19.072 22.3904 18.9952V20.32C22.3904 20.704 22.3712 21.2416 22.3328 21.9328C22.2944 22.5088 22.2752 22.9312 22.2752 23.2C21.7952 23.2768 21.0368 23.3152 20 23.3152ZM22.16 16.6048C21.68 16.6816 20.96 16.72 20 16.72C19.04 16.72 18.32 16.6816 17.84 16.6048C18.0704 15.0688 18.416 13.7248 18.8768 12.5728C19.2608 11.6128 19.6352 10.9984 20 10.7296C20.3648 10.9984 20.7392 11.6128 21.1232 12.5728C21.584 13.7248 21.9296 15.0688 22.16 16.6048ZM28.1504 15.28C27.536 15.5296 27.0272 15.7216 26.624 15.856C25.9328 16.0864 25.2416 16.2496 24.5504 16.3456C24.4352 15.424 24.2624 14.5216 24.032 13.6384C23.8016 12.7552 23.5424 11.9776 23.2544 11.3056C25.3472 12.0544 26.9792 13.3792 28.1504 15.28ZM11.8496 15.28C12.464 14.3392 13.184 13.5424 14.0096 12.8896C14.8736 12.1792 15.8336 11.6512 16.8896 11.3056C16.2752 12.6496 15.7952 14.3296 15.4496 16.3456C13.9712 16.0192 12.7712 15.664 11.8496 15.28ZM10.8704 17.44C10.928 17.4784 11.0144 17.5264 11.1296 17.584L11.36 17.6704C12.3968 18.1312 13.7216 18.496 15.3344 18.7648C15.2768 18.976 15.2384 19.216 15.2192 19.4848C15.2 19.6576 15.1904 19.936 15.1904 20.32C15.1904 21.4336 15.2384 22.2688 15.3344 22.8256C14.0864 22.6144 12.9824 22.2976 12.0224 21.8752C11.2352 21.5296 10.736 21.2128 10.5248 20.9248V20.32C10.4672 19.84 10.4672 19.3408 10.5248 18.8224C10.5824 18.304 10.6976 17.8432 10.8704 17.44ZM11.2448 24.1504C12.7424 24.7456 14.2208 25.1488 15.68 25.36C15.872 26.6464 16.2752 27.9616 16.8896 29.3056C15.6224 28.8832 14.4992 28.2208 13.52 27.3184C12.5408 26.416 11.7824 25.36 11.2448 24.1504ZM28.7552 24.1504C28.2176 25.36 27.4592 26.416 26.48 27.3184C25.5008 28.2208 24.3776 28.8832 23.1104 29.3056C23.7248 27.9616 24.128 26.6464 24.32 25.36C26.2208 25.0912 27.6992 24.688 28.7552 24.1504Z'\n                />\n            </svg>\n        </span>\n    );\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {useIntl} from 'react-intl';\n\nexport default function LockCircleSolidIcon(props: React.HTMLAttributes<HTMLSpanElement>) {\n    const {formatMessage} = useIntl();\n\n    return (\n        <span {...props}>\n            <svg\n                width='40'\n                height='40'\n                viewBox='0 0 40 40'\n                xmlns='http://www.w3.org/2000/svg'\n                aria-label={formatMessage({id: 'generic_icons.lock.circleSolid', defaultMessage: 'Lock Circle Solid Icon'})}\n            >\n                <rect\n                    width='40'\n                    height='40'\n                    rx='20'\n                    fillOpacity='0.08'\n                />\n                <path\n                    d='M27.2 29.9104V19.1104H12.8V29.9104H27.2ZM27.2 16.72C27.872 16.72 28.4384 16.9504 28.8992 17.4112C29.36 17.872 29.5904 18.4384 29.5904 19.1104V29.9104C29.5904 30.5824 29.3504 31.1488 28.8704 31.6096C28.4096 32.0896 27.8528 32.3296 27.2 32.3296H12.8C12.1472 32.3296 11.5808 32.0896 11.1008 31.6096C10.64 31.1488 10.4096 30.5824 10.4096 29.9104V19.1104C10.4096 18.4384 10.64 17.872 11.1008 17.4112C11.5808 16.9504 12.1472 16.72 12.8 16.72H14.0096V14.3296C14.0096 13.216 14.2688 12.208 14.7872 11.3056C15.3248 10.384 16.0448 9.65442 16.9472 9.11682C17.8688 8.57922 18.8864 8.31042 20 8.31042C21.1136 8.31042 22.1216 8.57922 23.024 9.11682C23.9456 9.65442 24.6656 10.384 25.184 11.3056C25.7216 12.208 25.9904 13.216 25.9904 14.3296V16.72H27.2ZM20 10.7296C19.328 10.7296 18.7136 10.8928 18.1568 11.2192C17.6192 11.5264 17.1872 11.9584 16.8608 12.5152C16.5536 13.0528 16.4 13.6576 16.4 14.3296V16.72H23.6V14.3296C23.6 13.6576 23.4368 13.0528 23.1104 12.5152C22.8032 11.9584 22.3712 11.5264 21.8144 11.2192C21.2768 10.8928 20.672 10.7296 20 10.7296Z'\n                />\n            </svg>\n\n        </span>\n    );\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {useIntl} from 'react-intl';\n\ntype Props = React.HTMLAttributes<HTMLSpanElement>;\n\nexport default function UpgradeBadgeIcon(props: Props): JSX.Element {\n    const {formatMessage} = useIntl();\n\n    return (\n        <span {...props}>\n            <svg\n                xmlns='http://www.w3.org/2000/svg'\n                version='1.1'\n                width='100%'\n                height='100%'\n                viewBox='2 2 20 20'\n                role='img'\n                aria-label={formatMessage({id: 'generic_icons.upgradeBadge', defaultMessage: 'Upgrade badge'})}\n            >\n                <circle\n                    cx='12'\n                    cy='12'\n                    r='10'\n                    fillOpacity='0.08'\n                />\n                <path\n                    d='M12,2c5.523,0,10,4.477,10,10s-4.477,10-10,10S2,17.523,2,12S6.477,2,12,2z M14.994,9.033\n                        c0.218,0.217,0.327,0.47,0.327,0.76s-0.109,0.543-0.327,0.76c-0.218,0.217-0.472,0.326-0.762,0.326s-0.545-0.109-0.762-0.326\n                        c-0.218-0.217-0.327-0.47-0.327-0.76s0.109-0.543,0.327-0.76c0.218-0.217,0.472-0.326,0.762-0.326S14.776,8.816,14.994,9.033z\n                        M16.555,7.477C15.902,6.826,15.115,6.5,14.195,6.5c-0.871,0-1.634,0.326-2.287,0.977c-0.508,0.507-0.823,1.11-0.944,1.809\n                        c-0.097,0.675,0.012,1.315,0.327,1.918L6.5,15.98l1.525,1.52l1.561-1.556l1.561,1.556l1.525-1.52l-1.561-1.556l1.706-1.701\n                        c0.605,0.314,1.246,0.422,1.924,0.326c0.702-0.121,1.307-0.434,1.815-0.941c0.653-0.651,0.968-1.423,0.944-2.316\n                        C17.523,8.9,17.208,8.128,16.555,7.477z'\n                />\n            </svg>\n        </span>\n    );\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport classNames from 'classnames';\nimport React, {useCallback} from 'react';\nimport {useIntl} from 'react-intl';\n\nimport type {ChannelType} from '@mattermost/types/channels';\n\nimport CheckCircleIcon from 'components/widgets/icons/check_circle_icon';\nimport GlobeCircleSolidIcon from 'components/widgets/icons/globe_circle_solid_icon';\nimport LockCircleSolidIcon from 'components/widgets/icons/lock_circle_solid_icon';\nimport UpgradeBadge from 'components/widgets/icons/upgrade_badge_icon';\nimport WithTooltip from 'components/with_tooltip';\n\nimport {Constants} from 'utils/constants';\n\nimport './public-private-selector.scss';\n\ntype BigButtonSelectorProps = {\n    id: ChannelType;\n    title: string | React.ReactNode;\n    description: string | React.ReactNode;\n    iconSVG: (props: React.HTMLAttributes<HTMLSpanElement>) => JSX.Element;\n    titleClassName?: string;\n    descriptionClassName?: string;\n    iconClassName?: string;\n    tooltip?: string;\n    selected?: boolean;\n    disabled?: boolean;\n    locked?: boolean;\n    onClick: (id: ChannelType) => void;\n};\n\nconst BigButtonSelector = ({\n    id,\n    title,\n    description,\n    iconSVG: IconSVG,\n    titleClassName,\n    descriptionClassName,\n    iconClassName,\n    tooltip,\n    selected,\n    disabled,\n    locked,\n    onClick,\n}: BigButtonSelectorProps) => {\n    const handleOnClick = useCallback(\n        (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n            e.preventDefault();\n            onClick(id);\n        },\n        [id, onClick],\n    );\n\n    const button = (\n        <button\n            id={`public-private-selector-button-${id}`}\n            className={classNames('public-private-selector-button', {selected, disabled, locked})}\n            onClick={handleOnClick}\n        >\n            <IconSVG className={classNames('public-private-selector-button-icon', iconClassName)}/>\n            <div className='public-private-selector-button-text'>\n                <div className={classNames('public-private-selector-button-title', titleClassName)}>\n                    {title}\n                    {locked && <UpgradeBadge className='public-private-selector-button-icon-upgrade'/>}\n                </div>\n                <div className={classNames('public-private-selector-button-description', descriptionClassName)}>\n                    {description}\n                </div>\n            </div>\n            {selected && <CheckCircleIcon className='public-private-selector-button-icon-check'/>}\n        </button>\n    );\n\n    if (!tooltip) {\n        return button;\n    }\n\n    return (\n        <WithTooltip\n            title={tooltip}\n        >\n            {button}\n        </WithTooltip>\n    );\n};\n\ntype ButtonSelectorProps = {\n    title?: string | React.ReactNode;\n    description?: string | React.ReactNode;\n    titleClassName?: string;\n    descriptionClassName?: string;\n    iconClassName?: string;\n    tooltip?: string;\n    selected?: boolean;\n    disabled?: boolean;\n    locked?: boolean;\n};\n\ntype PublicPrivateSelectorProps = {\n    selected: ChannelType;\n    className?: string;\n    publicButtonProps?: ButtonSelectorProps;\n    privateButtonProps?: ButtonSelectorProps;\n    onChange: (selected: ChannelType) => void;\n};\n\nconst PublicPrivateSelector = ({\n    selected,\n    className,\n    publicButtonProps: {\n        title: titlePublic,\n        description: descriptionPublic,\n        titleClassName: titleClassNamePublic,\n        descriptionClassName: descriptionClassNamePublic,\n        iconClassName: iconClassNamePublic,\n        tooltip: tooltipPublic,\n        disabled: disabledPublic,\n        locked: lockedPublic,\n    } = {} as ButtonSelectorProps,\n    privateButtonProps: {\n        title: titlePrivate,\n        description: descriptionPrivate,\n        titleClassName: titleClassNamePrivate,\n        descriptionClassName: descriptionClassNamePrivate,\n        iconClassName: iconClassNamePrivate,\n        tooltip: tooltipPrivate,\n        disabled: disabledPrivate,\n        locked: lockedPrivate,\n    } = {} as ButtonSelectorProps,\n    onChange,\n}: PublicPrivateSelectorProps) => {\n    const {formatMessage} = useIntl();\n\n    const canSelectPublic = !disabledPublic && !lockedPublic;\n    const canSelectPrivate = !disabledPrivate && !lockedPrivate;\n\n    const handleOnClick = useCallback(\n        (selection: ChannelType) => {\n            if (\n                selection === selected ||\n                (selection === Constants.OPEN_CHANNEL && !canSelectPublic) ||\n                (selection === Constants.PRIVATE_CHANNEL && !canSelectPrivate)\n            ) {\n                return;\n            }\n\n            onChange(selection);\n        },\n        [selected, canSelectPublic, canSelectPrivate, onChange],\n    );\n\n    return (\n        <div className={classNames('public-private-selector', className)}>\n            <BigButtonSelector\n                id={Constants.OPEN_CHANNEL as ChannelType}\n                title={titlePublic || formatMessage({id: 'public_private_selector.public.title', defaultMessage: 'Public'})}\n                description={descriptionPublic || formatMessage({id: 'public_private_selector.public.description', defaultMessage: 'Anyone'})}\n                iconSVG={GlobeCircleSolidIcon}\n                titleClassName={titleClassNamePublic}\n                descriptionClassName={descriptionClassNamePublic}\n                iconClassName={iconClassNamePublic}\n                tooltip={tooltipPublic}\n                selected={selected === Constants.OPEN_CHANNEL}\n                disabled={disabledPublic}\n                locked={lockedPublic}\n                onClick={handleOnClick}\n            />\n            <BigButtonSelector\n                id={Constants.PRIVATE_CHANNEL as ChannelType}\n                title={titlePrivate || formatMessage({id: 'public_private_selector.private.title', defaultMessage: 'Private'})}\n                description={descriptionPrivate || formatMessage({id: 'public_private_selector.private.description', defaultMessage: 'Only invited members'})}\n                iconSVG={LockCircleSolidIcon}\n                titleClassName={titleClassNamePrivate}\n                descriptionClassName={descriptionClassNamePrivate}\n                iconClassName={iconClassNamePrivate}\n                tooltip={tooltipPrivate}\n                selected={selected === Constants.PRIVATE_CHANNEL}\n                disabled={disabledPrivate}\n                locked={lockedPrivate}\n                onClick={handleOnClick}\n            />\n        </div>\n    );\n};\n\nexport default PublicPrivateSelector;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport type {PreferenceType} from '@mattermost/types/preferences';\n\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport type {ActionFuncAsync} from 'mattermost-redux/types/actions';\n\nimport {savePreferences} from './preferences';\n\nimport {Preferences} from '../constants';\n\nexport function setNewChannelWithBoardPreference(initializationState: Record<string, boolean>): ActionFuncAsync {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const currentUserId = getCurrentUserId(state);\n        const preference: PreferenceType = {\n            user_id: currentUserId,\n            category: Preferences.APP_BAR,\n            name: Preferences.NEW_CHANNEL_WITH_BOARD_TOUR_SHOWED,\n            value: JSON.stringify(initializationState),\n        };\n        await dispatch(savePreferences(currentUserId, [preference]));\n        return {data: true};\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {useCallback} from 'react';\nimport {useSelector, useDispatch, shallowEqual} from 'react-redux';\n\nimport {createSelector} from 'mattermost-redux/selectors/create_selector';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport {setGlobalItem} from 'actions/storage';\nimport {makeGetGlobalItem} from 'selectors/storage';\n\nconst currentUserAndTeamSuffix = createSelector('currentUserAndTeamSuffix', [\n    getCurrentUserId,\n    getCurrentTeamId,\n], (\n    userId,\n    teamId,\n) => {\n    return `:${userId}:${teamId}`;\n});\n\n/**\n *\n * @param initialValue\n * @param name name of stored value, prepended to suffix\n * @param suffix to provide scope; defaults to user and team\n */\nexport function useGlobalState<TVal>(\n    initialValue: TVal,\n    name: string,\n    suffix?: string,\n): [TVal, (value: TVal) => ReturnType<typeof setGlobalItem>] {\n    const dispatch = useDispatch();\n    const defaultSuffix = useSelector(currentUserAndTeamSuffix);\n    const suffixToUse = suffix || defaultSuffix;\n    const storedKey = `${name}${suffixToUse}`;\n\n    const value = useSelector(makeGetGlobalItem(storedKey, initialValue), shallowEqual);\n    const setValue = useCallback((newValue) => dispatch(setGlobalItem(storedKey, newValue)), [storedKey]);\n\n    return [\n        value,\n        setValue,\n    ];\n}\n"],"names":["UrlInput","_ref","base","path","pathInfo","limit","maxLength","shortenLength","error","className","onChange","onBlur","formatMessage","useIntl","editing","setEditing","useState","useEffect","fullPath","concat","fullURL","isShortenedURL","length","hasError","Boolean","urlInputLabel","React","id","defaultMessage","getShortenedURL","classNames","WithTooltip","title","Input","name","type","containerClassName","wrapperClassName","inputClassName","autoFocus","autoComplete","value","event","preventDefault","disabled","onClick","handleOnButtonClick","propTypes","_pt","isRequired","validateDisplayName","intl","displayNameParam","errors","displayName","trim","Constants","MIN_CHANNELNAME_LENGTH","push","MAX_CHANNELNAME_LENGTH","ChannelNameFormField","props","_useSelector","hasInteracted","setHasInteracted","displayNameError","setDisplayNameError","useRef","urlModified","url","setURL","currentUrl","urlError","setURLError","inputCustomMessage","setInputCustomMessage","current","currentTeamName","useSelector","getCurrentTeam","teamName","team","handleOnDisplayNameChange","useCallback","e","target","updatedDisplayName","displayNameErrors","onDisplayNameChange","cleanURL","cleanUpUrlable","onURLChange","handleOnDisplayNameBlur","generateSlug","handleOnURLChange","toLowerCase","replace","urlErrors","validateChannelUrl","handleOnURLBlur","lastError","onErrorStateChange","required","label","placeholder","minLength","undefined","customMessage","readOnly","URLInput","getSiteURL","DEFAULT_CHANNELURL_SHORTEN_LENGTH","CheckboxWithSelectSettingItem","description","descriptionAboveContent","checkboxFieldTitle","checkboxFieldData","checkboxFieldValue","handleCheckboxChange","selectFieldData","selectFieldValue","handleSelectChange","isSelectDisabled","selectPlaceholder","content","key","dataTestId","checked","ReactSelect","inputId","ariaLabelledby","classNamePrefix","options","isClearable","clearable","isDisabled","isSearchable","components","IndicatorSeparator","NoIndicatorSeparatorComponent","BaseSettingItem","isContentInline","ModalHeader","subtitle","handleClose","RadioSettingItem","inputFieldData","inputFieldValue","handleChange","fields","map","option","SectionName","VALID_SECTION_NAMES","Object","values","ResetToDefaultButton","areDesktopNotificationsSameAsDefault","useMemo","isNotifyMeAboutSame","userNotifyProps","desktop","userSelectedChannelNotifyProps","isThreadReplyNotificationsSame","desktop_threads","isSoundSame","convertDesktopSoundNotifyPropFromUserToDesktop","desktop_sound","isNotificationSoundSame","desktop_notification_sound","notificationSoundKeys","areMobileNotificationsSameAsDefault","push_threads","includes","sectionName","Desktop","Mobile","channelNotifyPropsDefaultedToUserNotifyProps","_userNotifyProps$desk","NotificationLevels","ALL","DesktopSound","ON","_userNotifyProps$desk2","_userNotifyProps$push","FormattedMessage","defineMessage","desktopNotificationInputFieldData","defaultOption","optionalDefault","MENTION","NONE","desktopNotificationSoundsCheckboxFieldData","desktopNotificationSoundsSelectFieldData","optionsOfMessageNotificationSoundsSelect","IgnoreMentionsInputFieldData","mobileNotificationInputFieldData","MuteChannelInputFieldData","DesktopReplyThreadsInputFieldData","MobileReplyThreadsInputFieldData","AutoFollowThreadsInputFieldData","sameMobileSettingsDesktopInputFieldData","ChannelNotificationsModal","_props$channelMember","_props$channelMember2","_props$channelMember3","_props$channelMember4","_props$channelMember5","_props$channelMember6","_props$channelMember7","_props$channelMember8","_props$channelMember9","show","setShow","serverError","setServerError","settings","setSettings","currentUserNotifyProps","currentUser","notify_props","mark_unread","_channelMemberNotifyP","channelMemberNotifyProps","channelMember","ignore_channel_mentions","getInitialValuesOfIgnoreChannelMentions","channel","getInitialValuesOfChannelNotifyProps","DesktopNotificationSounds","BING","channel_auto_follow_threads","_channelMemberNotifyP2","desktopAndMobileSettingsDifferent","setDesktopAndMobileSettingDifferent","areDesktopAndMobileSettingsDifferent","collapsedReplyThreads","handleHide","prevSettings","_objectSpread","handleResetToDefaultClicked","desktopAndMobileSettingsDiff","muteOrIgnoreSectionContent","CheckboxSettingItem","inputFieldTitle","utils","desktopNotificationsSectionContent","isChecked","OFF","getValueOfNotificationSoundsSelect","selectedOption","stopTryNotificationRing","tryNotificationSound","mobileNotificationsSectionContent","newValueOfSettings","newValueOfDesktopAndMobileSettingsDifferent","_props$channelMember10","_props$channelMember11","_props$currentUser","_props$currentUser$no","_props$channelMember12","_props$channelMember13","_props$currentUser2","_props$currentUser2$n","autoFollowThreadsSectionContent","desktopAndMobileNotificationSectionContent","ModalSection","titleSuffix","AlertBanner","mode","variant","customIcon","BellOffOutlineIcon","size","color","message","footerContent","role","channelNotifyProps","savedChannelNotifyProps","DEFAULT","createChannelNotifyPropsFromSelectedSettings","actions","updateChannelNotifyProps","then","headerText","display_name","GenericModal","onHide","onExited","_props$onExited","focusOriginElement","focusElement","call","ariaLabel","compassDesign","modalHeaderText","bodyPadding","footerDivider","style","all","defaultValue","channelMemberNotifyProp","arguments","userNotifyProp","markUnread","ignoreChannelMentions","userNotifyPropForChannel","ignoreChannelMentionsDefault","IgnoreChannelMentions","isCollapsedThreadsEnabled","desktopThreads","pushThreads","connect","state","getMyCurrentChannelMembership","sendPushNotifications","getConfig","SendPushNotifications","dispatch","bindActionCreators","getChannelTypeFromPermissions","canCreatePublicChannel","canCreatePrivateChannel","channelType","OPEN_CHANNEL","PRIVATE_CHANNEL","ServerErrorId","NewChannelModal","currentTeamId","haveICurrentChannelPermission","Permissions","CREATE_PUBLIC_CHANNEL","CREATE_PRIVATE_CHANNEL","useDispatch","setType","setDisplayName","purpose","setPurpose","purposeError","setPurposeError","channelInputError","setChannelInputError","createBoardFromChannelPlugin","plugins","CreateBoardFromTemplate","newChannelWithBoardPulsatingDotState","getPreference","Preferences","APP_BAR","NEW_CHANNEL_WITH_BOARD_TOUR_SHOWED","canCreateFromPluggable","setCanCreateFromPluggable","actionFromPluggable","setActionFromPluggable","handleURLChange","newURL","handleOnModalConfirm","async","canCreate","team_id","header","create_at","creator_id","delete_at","group_constrained","last_post_at","last_root_post_at","scheme_id","update_at","data","newChannel","createChannel","onCreateChannelError","handleOnModalCancel","addBoardToChannel","console","log","switchToChannel","action","board","channelId","setNewChannelWithBoardPreference","closeModal","ModalIdentifiers","NEW_CHANNEL_MODAL","server_error_id","CHANNEL_URL_SIZE","CHANNEL_UPDATE_EXISTS","CHANNEL_CREATE_EXISTS","CHANNEL_PURPOSE_SIZE","handleOnTypeChange","newBoardInfoIcon","confirmButtonText","cancelButtonText","errorText","isConfirmDisabled","autoCloseOnConfirmButton","handleConfirm","handleEnterKeyPress","handleCancel","PublicPrivateSelector","selected","publicButtonProps","privateButtonProps","rows","MAX_CHANNELPURPOSE_LENGTH","onKeyDown","stopPropagation","Pluggable","pluggableName","setCanCreate","setAction","Divider","styled","withConfig","isActive","ResizableDividerGlobalStyle","createGlobalStyle","_ref2","active","css","_ref3","varName","width","ResizableDivider","_ref4","dir","containerRef","defaultWidth","onResize","onResizeStart","onResizeEnd","onDividerDoubleClick","_objectWithoutProperties","_excluded","resizeLineRef","startWidth","lastWidth","previousClientX","cssVarKey","globalCssVar","currentUserID","getCurrentUserId","isMobileView","getIsMobileView","setIsActive","setWidth","useGlobalState","handleOnResize","cssVarProp","cssVarValue","defaultOnResizeChange","_containerRef$current","setProperty","reset","onMouseMove","_lastWidth$current","resizeLine","previousWidth","widthDiff","ResizeDirection","LEFT","clientX","RIGHT","newWidth","classList","contains","diff","isSizeLessThanSnapSize","remove","shouldSnap","shouldSnapWhenSizeGrown","shouldSnapWhenSizeShrunk","isSnapableSpeed","add","onMouseUp","_containerRef$current2","_containerRef$current3","finalWidth","getBoundingClientRect","removeProperty","document","body","window","addEventListener","removeEventListener","left","right","ref","onMouseDown","onDoubleClick","Math","abs","SIDEBAR_SNAP_SIZE","speed","SIDEBAR_SNAP_SPEED_LIMIT","prevWidth","isGrowing","isShrinking","shouldRhsOverlapChannelView","SidebarSize","MEDIUM","titleComponent","descriptionComponent","Error","AlertCircleOutlineIcon","inline","replaceAll","htmlFor","CheckCircleIcon","height","viewBox","xmlns","d","GlobeCircleSolidIcon","rx","fillOpacity","LockCircleSolidIcon","UpgradeBadgeIcon","version","cx","cy","r","BigButtonSelector","iconSVG","IconSVG","titleClassName","descriptionClassName","iconClassName","tooltip","locked","handleOnClick","button","UpgradeBadge","titlePublic","descriptionPublic","titleClassNamePublic","descriptionClassNamePublic","iconClassNamePublic","tooltipPublic","disabledPublic","lockedPublic","titlePrivate","descriptionPrivate","titleClassNamePrivate","descriptionClassNamePrivate","iconClassNamePrivate","tooltipPrivate","disabledPrivate","lockedPrivate","canSelectPublic","canSelectPrivate","selection","initializationState","getState","currentUserId","preference","user_id","category","JSON","stringify","savePreferences","currentUserAndTeamSuffix","createSelector","getCurrentTeamId","userId","teamId","initialValue","suffix","defaultSuffix","suffixToUse","storedKey","makeGetGlobalItem","shallowEqual","newValue","setGlobalItem"],"sourceRoot":""}