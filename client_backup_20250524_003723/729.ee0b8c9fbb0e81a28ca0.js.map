{"version":3,"file":"729.ee0b8c9fbb0e81a28ca0.js","mappings":"2OAkCA,MAAMA,EAAkBC,IAGX,IAHY,OACrBC,EAAM,QACNC,GACIF,EACJ,IAAKC,EACD,OAAO,KAGX,MAAM,WAACE,GAAcF,EACfG,EAAc,GAEpB,IAAK,MAAMC,KAAWF,EAClB,GAAIG,OAAOC,OAAOJ,EAAYE,GAAU,CACpC,MAAMG,EAAQL,EAAWE,GACzB,GAAIG,EAAMC,KAAM,CACZ,MAAMC,EAAiBC,IAAAA,cAAoBH,EAAMI,WAAYN,OAAOO,OAAO,CAAC,EAAGL,EAAMM,YAAa,CAC9FC,SAAUA,KAAM,IAAAC,EAAAC,EACZf,EAAQgB,WAAWb,GAGF,QAAjBW,EAAAR,EAAMM,mBAAW,IAAAE,GAAU,QAAVC,EAAjBD,EAAmBD,gBAAQ,IAAAE,GAA3BA,EAAAE,KAAAH,EAA+B,EAEnCI,OAAQlB,EAAQgB,WAAWG,UAAK,EAAMhB,GACtCiB,IAAK,GAAFC,OAAKlB,EAAO,aAGnBD,EAAYoB,KAAKd,EACrB,CACJ,CAGJ,OAAOC,IAAAA,cAAAA,IAAAA,SAAA,KAAGP,EAAe,EAC3BL,EAAA0B,UAAA,CAlDExB,OAAMyB,IAAAA,MAAA,CACFvB,WAAUuB,IAAAA,SAAAA,IAAAA,MAAA,CAXdjB,KAAIiB,IAAAA,KAAAC,WACJf,WAAUc,IAAAA,YAAAC,WACVb,YAAWY,IAAAA,SAAAA,IAAAA,QAAAC,aAAAA,WAiBXzB,QAAOwB,IAAAA,MAAA,CAKHR,WAAUQ,IAAAA,KAAAC,aAAAA,YAsClB,UCzCA,GAAeC,EAAAA,EAAAA,UAdf,SAAyBC,GACrB,MAAO,CACH5B,OAAQ4B,EAAMC,MAAM7B,OAE5B,IAEA,SAA4B8B,GACxB,MAAO,CACH7B,SAAS8B,EAAAA,EAAAA,oBAAmB,CACxBd,WAAUA,EAAAA,GACXa,GAEX,GAEA,CAA4DhC,E","sources":["webpack://mattermost-webapp/./src/components/modal_controller/modal_controller.tsx","webpack://mattermost-webapp/./src/components/modal_controller/index.ts"],"sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\ntype Modal = {\n    open: boolean;\n    dialogType: React.ComponentType;\n    dialogProps?: Record<string, any>;\n}\n\ntype Props = {\n\n    /*\n     * Object that has map of modal's id and element\n     */\n    modals: {\n        modalState: {\n            [modalId: string]: Modal;\n        };\n    };\n\n    /*\n     * Object with action creators\n     */\n    actions: {\n\n        /*\n         * Action creator to close modal\n         */\n        closeModal: (modalId: string) => void;\n    };\n}\n\nconst ModalController = ({\n    modals,\n    actions,\n}: Props) => {\n    if (!modals) {\n        return null;\n    }\n\n    const {modalState} = modals;\n    const modalOutput = [];\n\n    for (const modalId in modalState) {\n        if (Object.hasOwn(modalState, modalId)) {\n            const modal = modalState[modalId];\n            if (modal.open) {\n                const modalComponent = React.createElement(modal.dialogType, Object.assign({}, modal.dialogProps, {\n                    onExited: () => {\n                        actions.closeModal(modalId);\n\n                        // Call any onExited prop provided by whoever opened the modal, if one was provided\n                        modal.dialogProps?.onExited?.();\n                    },\n                    onHide: actions.closeModal.bind(this, modalId),\n                    key: `${modalId}_modal`,\n                }));\n\n                modalOutput.push(modalComponent);\n            }\n        }\n    }\n\n    return <>{modalOutput}</>;\n};\n\nexport default ModalController;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport type {Dispatch} from 'redux';\n\nimport {closeModal} from 'actions/views/modals';\n\nimport type {GlobalState} from 'types/store/index.js';\n\nimport ModalController from './modal_controller';\n\nfunction mapStateToProps(state: GlobalState) {\n    return {\n        modals: state.views.modals,\n    };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n    return {\n        actions: bindActionCreators({\n            closeModal,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalController);\n"],"names":["ModalController","_ref","modals","actions","modalState","modalOutput","modalId","Object","hasOwn","modal","open","modalComponent","React","dialogType","assign","dialogProps","onExited","_modal$dialogProps","_modal$dialogProps$on","closeModal","call","onHide","bind","key","concat","push","propTypes","_pt","isRequired","connect","state","views","dispatch","bindActionCreators"],"sourceRoot":""}